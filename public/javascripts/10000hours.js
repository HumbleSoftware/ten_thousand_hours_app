/*!
  * Bonzo: DOM Utility (c) Dustin Diaz 2011
  * https://github.com/ded/bonzo
  * License MIT
  */
!function(a,b){typeof define=="function"?define(b):typeof module!="undefined"?module.exports=b():this[a]=b()}("bonzo",function(){function x(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function y(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c||a[d],a[d],d,a);return a}function z(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function A(a){return a&&a.nodeName&&a.nodeType==1}function B(a,b,c,d){for(d=0,j=a.length;d<j;++d)if(b.call(c,a[d],d,a))return!0;return!1}function D(a,b,c){var d=0,g=b||this,h=[],i=f&&typeof a=="string"&&a.charAt(0)!="<"?function(b){return(b=f(a))&&(b.selected=1)&&b}():a;return y(J(i),function(a){y(g,function(b){var f=!b[e]||b[e]&&!b[e][e]?function(){var a=b.cloneNode(!0);return g.$&&g.cloneEvents&&g.$(a).cloneEvents(b),a}():b;c(a,f),h[d]=f,d++})},this),y(h,function(a,b){g[b]=a}),g.length=d,g}function E(a,b,c){var d=N(a),e=d.css("position"),f=d.offset(),g="relative",h=e==g,i=[parseInt(d.css("left"),10),parseInt(d.css("top"),10)];e=="static"&&(d.css("position",g),e=g),isNaN(i[0])&&(i[0]=h?0:a.offsetLeft),isNaN(i[1])&&(i[1]=h?0:a.offsetTop),b!=null&&(a.style.left=b-f.left+i[0]+q),c!=null&&(a.style.top=c-f.top+i[1]+q)}function F(a,b){return x(b).test(a.className)}function G(a,b){a.className=w(a.className+" "+b)}function H(a,b){a.className=w(a.className.replace(x(b)," "))}function I(a){this.length=0;if(a){a=typeof a!="string"&&!a.nodeType&&typeof a.length!="undefined"?a:[a],this.length=a.length;for(var b=0;b<a.length;b++)this[b]=a[b]}}function J(a){return typeof a=="string"?N.create(a):A(a)?[a]:a}function K(a,c,d){var e=this[0];return a==null&&c==null?(L(e)?M():{x:e.scrollLeft,y:e.scrollTop})[d]:(L(e)?b.scrollTo(a,c):(a!=null&&(e.scrollLeft=a),c!=null&&(e.scrollTop=c)),this)}function L(a){return a===b||/^(?:body|html)$/i.test(a.tagName)}function M(){return{x:b.pageXOffset||d.scrollLeft,y:b.pageYOffset||d.scrollTop}}function N(a,b){return new I(a,b)}var a=this,b=window,c=b.document,d=c.documentElement,e="parentNode",f=null,g=/^checked|value|selected$/,h=/select|fieldset|table|tbody|tfoot|td|tr|colgroup/i,i="table",k={thead:i,tbody:i,tfoot:i,tr:"tbody",th:"tr",td:"tr",fieldset:"form",option:"select"},l=/^checked|selected$/,m=/msie/i.test(navigator.userAgent),n=[],o=0,p=/^-?[\d\.]+$/,q="px",r="setAttribute",s="getAttribute",t=/(^\s*|\s*$)/g,u={lineHeight:1,zoom:1,zIndex:1,opacity:1},v=function(){var a=["webkitTransform","MozTransform","OTransform","msTransform","Transform"],b;for(b=0;b<a.length;b++)if(a[b]in c.createElement("a").style)return a[b]}(),w=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(t,"")},C=c.defaultView&&c.defaultView.getComputedStyle?function(a,b){b=b=="transform"?v:b,b=b=="transform-origin"?v+"Origin":b;var d=null;b=="float"&&(b="cssFloat");var e=c.defaultView.getComputedStyle(a,"");return e&&(d=e[z(b)]),a.style[b]||d}:m&&d.currentStyle?function(a,b){b=z(b),b=b=="float"?"styleFloat":b;if(b=="opacity"){var c=100;try{c=a.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(d){try{c=a.filters("alpha").opacity}catch(e){}}return c/100}var f=a.currentStyle?a.currentStyle[b]:null;return a.style[b]||f}:function(a,b){return a.style[z(b)]};I.prototype={get:function(a){return this[a]},each:function(a,b){return y(this,a,b)},map:function(a,b){var c=[],d,e;for(e=0;e<this.length;e++)d=a.call(this,this[e],e),b?b(d)&&c.push(d):c.push(d);return c},first:function(){return N(this[0])},last:function(){return N(this[this.length-1])},html:function(a,b){function f(b){while(b.firstChild)b.removeChild(b.firstChild);y(J(a),function(a){b.appendChild(a)})}var c=b?d.textContent===null?"innerText":"textContent":"innerHTML",e;return typeof a!="undefined"?this.each(function(b){(e=b.tagName.match(h))?f(b,e[0]):b[c]=a}):this[0]?this[0][c]:""},text:function(a){return this.html(a,1)},addClass:function(a){return this.each(function(b){F(b,a)||G(b,a)})},removeClass:function(a){return this.each(function(b){F(b,a)&&H(b,a)})},hasClass:function(a){return B(this,function(b){return F(b,a)})},toggleClass:function(a,b){return this.each(function(c){typeof b!="undefined"?b?G(c,a):H(c,a):F(c,a)?H(c,a):G(c,a)})},show:function(a){return this.each(function(b){b.style.display=a||""})},hide:function(a){return this.each(function(a){a.style.display="none"})},append:function(a){return this.each(function(b){y(J(a),function(a){b.appendChild(a)})})},prepend:function(a){return this.each(function(b){var c=b.firstChild;y(J(a),function(a){b.insertBefore(a,c)})})},appendTo:function(a,b){return D.call(this,a,b,function(a,b){a.appendChild(b)})},prependTo:function(a,b){return D.call(this,a,b,function(a,b){a.insertBefore(b,a.firstChild)})},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},related:function(a){return this.map(function(b){b=b[a];while(b&&b.nodeType!==1)b=b[a];return b||0},function(a){return a})},before:function(a){return this.each(function(b){y(N.create(a),function(a){b[e].insertBefore(a,b)})})},after:function(a){return this.each(function(b){y(N.create(a),function(a){b[e].insertBefore(a,b.nextSibling)})})},insertBefore:function(a,b){return D.call(this,a,b,function(a,b){a[e].insertBefore(b,a)})},insertAfter:function(a,b){return D.call(this,a,b,function(a,b){var c=a.nextSibling;c?a[e].insertBefore(b,c):a[e].appendChild(b)})},css:function(a,d,e){function g(a,b,c){for(var d in f)f.hasOwnProperty(d)&&(c=f[d],(b=z(d))&&p.test(c)&&!(b in u)&&(c+=q),b=b=="transform"?v:b,b=b=="transformOrigin"?v+"Origin":b,a.style[b]=c)}if(d===undefined&&typeof a=="string")return d=this[0],d?d==c||d==b?(e=d==c?N.doc():N.viewport(),a=="width"?e.width:a=="height"?e.height:""):C(d,a):null;var f=a;typeof a=="string"&&(f={},f[a]=d),m&&f.opacity&&(f.filter="alpha(opacity="+f.opacity*100+")",f.zoom=a.zoom||1,delete f.opacity);if(d=f["float"])m?f.styleFloat=d:f.cssFloat=d,delete f["float"];return this.each(g)},offset:function(a,b){if(typeof a=="number"||typeof b=="number")return this.each(function(c){E(c,a,b)});var c=this[0],d=c.offsetWidth,e=c.offsetHeight,f=c.offsetTop,g=c.offsetLeft;while(c=c.offsetParent)f=f+c.offsetTop,g=g+c.offsetLeft;return{top:f,left:g,height:e,width:d}},attr:function(a,b){var c=this[0];if(typeof a=="string"||a instanceof String)return typeof b=="undefined"?g.test(a)?l.test(a)&&typeof c[a]=="string"?!0:c[a]:c[s](a):this.each(function(c){g.test(a)?c[a]=b:c[r](a,b)});for(var d in a)a.hasOwnProperty(d)&&this.attr(d,a[d]);return this},val:function(a){return typeof a=="string"?this.attr("value",a):this[0].value},removeAttr:function(a){return this.each(function(b){l.test(a)?b[a]=!1:b.removeAttribute(a)})},data:function(a,b){var c=this[0];if(typeof b=="undefined"){c[s]("data-node-uid")||c[r]("data-node-uid",++o);var d=c[s]("data-node-uid");return n[d]||(n[d]={}),n[d][a]}return this.each(function(c){c[s]("data-node-uid")||c[r]("data-node-uid",++o);var d=c[s]("data-node-uid"),e=n[d]||(n[d]={});e[a]=b})},remove:function(){return this.each(function(a){a[e]&&a[e].removeChild(a)})},empty:function(){return this.each(function(a){while(a.firstChild)a.removeChild(a.firstChild)})},detach:function(){return this.map(function(a){return a[e].removeChild(a)})},scrollTop:function(a){return K.call(this,null,a,"y")},scrollLeft:function(a){return K.call(this,a,null,"x")},toggle:function(a){return this.each(function(a){a.style.display=a.offsetWidth||a.offsetHeight?"none":"block"}),a&&a(),this}},N.setQueryEngine=function(a){f=a,delete N.setQueryEngine},N.aug=function(a,b){for(var c in a)a.hasOwnProperty(c)&&((b||I.prototype)[c]=a[c])},N.create=function(a){return typeof a=="string"?function(){var b=/^<([^\s>]+)/.exec(a),d=c.createElement(b&&k[b[1].toLowerCase()]||"div"),e=[];d.innerHTML=a;var f=d.childNodes;d=d.firstChild,e.push(d);while(d=d.nextSibling)d.nodeType==1&&e.push(d);return e}():A(a)?[a.cloneNode(!0)]:[]},N.doc=function(){var a=this.viewport();return{width:Math.max(c.body.scrollWidth,d.scrollWidth,a.width),height:Math.max(c.body.scrollHeight,d.scrollHeight,a.height)}},N.firstChild=function(a){for(var b=a.childNodes,c=0,d=b&&b.length||0,e;c<d;c++)b[c].nodeType===1&&(e=b[d=c]);return e},N.viewport=function(){return{width:m?d.clientWidth:self.innerWidth,height:m?d.clientHeight:self.innerHeight}},N.isAncestor="compareDocumentPosition"in d?function(a,b){return(a.compareDocumentPosition(b)&16)==16}:"contains"in d?function(a,b){return a!==b&&a.contains(b)}:function(a,b){while(b=b[e])if(b===a)return!0;return!1};var O=a.bonzo;return N.noConflict=function(){return a.bonzo=O,this},N})// Copyright 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// Known Issues:
//
// * Patterns only support repeat.
// * Radial gradient are not implemented. The VML version of these look very
//   different from the canvas one.
// * Clipping paths are not implemented.
// * Coordsize. The width and height attribute have higher priority than the
//   width and height style values which isn't correct.
// * Painting mode isn't implemented.
// * Canvas width/height should is using content-box by default. IE in
//   Quirks mode will draw the canvas using border-box. Either change your
//   doctype to HTML5
//   (http://www.whatwg.org/specs/web-apps/current-work/#the-doctype)
//   or use Box Sizing Behavior from WebFX
//   (http://webfx.eae.net/dhtml/boxsizing/boxsizing.html)
// * Non uniform scaling does not correctly scale strokes.
// * Optimize. There is always room for speed improvements.
// Only add this code if we do not already have a canvas implementation

document.createElement("canvas").getContext||function(){function j(){return this.context_||(this.context_=new N(this))}function l(a,b,c){var d=k.call(arguments,2);return function(){return a.apply(b,d.concat(k.call(arguments)))}}function m(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(a,b,c){a.namespaces[b]||a.namespaces.add(b,c,"#default#VML")}function o(a){n(a,"g_vml_","urn:schemas-microsoft-com:vml"),n(a,"g_o_","urn:schemas-microsoft-com:office:office");if(!a.styleSheets.ex_canvas_){var b=a.createStyleSheet();b.owningElement.id="ex_canvas_",b.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function q(a){var b=a.srcElement;switch(a.propertyName){case"width":b.getContext().clearRect(),b.style.width=b.attributes.width.nodeValue+"px",b.firstChild&&(b.firstChild.style.width=b.clientWidth+"px");break;case"height":b.getContext().clearRect(),b.style.height=b.attributes.height.nodeValue+"px",b.firstChild&&(b.firstChild.style.height=b.clientHeight+"px")}}function r(a){var b=a.srcElement;b.firstChild&&(b.firstChild.style.width=b.clientWidth+"px",b.firstChild.style.height=b.clientHeight+"px")}function v(){return[[1,0,0],[0,1,0],[0,0,1]]}function w(a,b){var c=v();for(var d=0;d<3;d++)for(var e=0;e<3;e++){var f=0;for(var g=0;g<3;g++)f+=a[d][g]*b[g][e];c[d][e]=f}return c}function x(a,b){b.fillStyle=a.fillStyle,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.lineWidth=a.lineWidth,b.miterLimit=a.miterLimit,b.shadowBlur=a.shadowBlur,b.shadowColor=a.shadowColor,b.shadowOffsetX=a.shadowOffsetX,b.shadowOffsetY=a.shadowOffsetY,b.strokeStyle=a.strokeStyle,b.globalAlpha=a.globalAlpha,b.font=a.font,b.textAlign=a.textAlign,b.textBaseline=a.textBaseline,b.arcScaleX_=a.arcScaleX_,b.arcScaleY_=a.arcScaleY_,b.lineScale_=a.lineScale_}function z(a){var b=a.indexOf("(",3),c=a.indexOf(")",b+1),d=a.substring(b+1,c).split(",");if(d.length!=4||a.charAt(3)!="a")d[3]=1;return d}function A(a){return parseFloat(a)/100}function B(a,b,c){return Math.min(c,Math.max(b,a))}function C(a){var b,c,d,e,f,g;e=parseFloat(a[0])/360%360,e<0&&e++,f=B(A(a[1]),0,1),g=B(A(a[2]),0,1);if(f==0)b=c=d=g;else{var h=g<.5?g*(1+f):g+f-g*f,i=2*g-h;b=D(i,h,e+1/3),c=D(i,h,e),d=D(i,h,e-1/3)}return"#"+s[Math.floor(b*255)]+s[Math.floor(c*255)]+s[Math.floor(d*255)]}function D(a,b,c){return c<0&&c++,c>1&&c--,6*c<1?a+(b-a)*6*c:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}function F(a){if(a in E)return E[a];var b,c=1;a=String(a);if(a.charAt(0)=="#")b=a;else if(/^rgb/.test(a)){var d=z(a),b="#",e;for(var f=0;f<3;f++)d[f].indexOf("%")!=-1?e=Math.floor(A(d[f])*255):e=+d[f],b+=s[B(e,0,255)];c=+d[3]}else if(/^hsl/.test(a)){var d=z(a);b=C(d),c=d[3]}else b=y[a]||a;return E[a]={color:b,alpha:c}}function I(a){if(H[a])return H[a];var b=document.createElement("div"),c=b.style;try{c.font=a}catch(d){}return H[a]={style:c.fontStyle||G.style,variant:c.fontVariant||G.variant,weight:c.fontWeight||G.weight,size:c.fontSize||G.size,family:c.fontFamily||G.family}}function J(a,b){var c={};for(var d in a)c[d]=a[d];var e=parseFloat(b.currentStyle.fontSize),f=parseFloat(a.size);return typeof a.size=="number"?c.size=a.size:a.size.indexOf("px")!=-1?c.size=f:a.size.indexOf("em")!=-1?c.size=e*f:a.size.indexOf("%")!=-1?c.size=e/100*f:a.size.indexOf("pt")!=-1?c.size=f/.75:c.size=e,c}function K(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+"px "+a.family}function M(a){return L[a]||"square"}function N(a){this.m_=v(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=g*1,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=a;var b="width:"+a.clientWidth+"px;height:"+a.clientHeight+"px;overflow:hidden;position:absolute",c=a.ownerDocument.createElement("div");c.style.cssText=b,a.appendChild(c);var d=c.cloneNode(!1);d.style.backgroundColor="red",d.style.filter="alpha(opacity=0)",a.appendChild(d),this.element_=c,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function P(a,b,c,d){a.currentPath_.push({type:"bezierCurveTo",cp1x:b.x,cp1y:b.y,cp2x:c.x,cp2y:c.y,x:d.x,y:d.y}),a.currentX_=d.x,a.currentY_=d.y}function Q(a,b){var c=F(a.strokeStyle),d=c.color,e=c.alpha*a.globalAlpha,f=a.lineScale_*a.lineWidth;f<1&&(e*=f),b.push("<g_vml_:stroke",' opacity="',e,'"',' joinstyle="',a.lineJoin,'"',' miterlimit="',a.miterLimit,'"',' endcap="',M(a.lineCap),'"',' weight="',f,'px"',' color="',d,'" />')}function R(b,c,d,e){var f=b.fillStyle,h=b.arcScaleX_,i=b.arcScaleY_,j=e.x-d.x,k=e.y-d.y;if(f instanceof V){var l=0,m={x:0,y:0},n=0,o=1;if(f.type_=="gradient"){var p=f.x0_/h,q=f.y0_/i,r=f.x1_/h,s=f.y1_/i,t=S(b,p,q),u=S(b,r,s),v=u.x-t.x,w=u.y-t.y;l=Math.atan2(v,w)*180/Math.PI,l<0&&(l+=360),l<1e-6&&(l=0)}else{var t=S(b,f.x0_,f.y0_);m={x:(t.x-d.x)/j,y:(t.y-d.y)/k},j/=h*g,k/=i*g;var x=a.max(j,k);n=2*f.r0_/x,o=2*f.r1_/x-n}var y=f.colors_;y.sort(function(a,b){return a.offset-b.offset});var z=y.length,A=y[0].color,B=y[z-1].color,C=y[0].alpha*b.globalAlpha,D=y[z-1].alpha*b.globalAlpha,E=[];for(var G=0;G<z;G++){var H=y[G];E.push(H.offset*o+n+" "+H.color)}c.push('<g_vml_:fill type="',f.type_,'"',' method="none" focus="100%"',' color="',A,'"',' color2="',B,'"',' colors="',E.join(","),'"',' opacity="',D,'"',' g_o_:opacity2="',C,'"',' angle="',l,'"',' focusposition="',m.x,",",m.y,'" />')}else if(f instanceof W){if(j&&k){var I=-d.x,J=-d.y;c.push("<g_vml_:fill",' position="',I/j*h*h,",",J/k*i*i,'"',' type="tile"',' src="',f.src_,'" />')}}else{var K=F(b.fillStyle),L=K.color,M=K.alpha*b.globalAlpha;c.push('<g_vml_:fill color="',L,'" opacity="',M,'" />')}}function S(a,b,c){var d=a.m_;return{x:g*(b*d[0][0]+c*d[1][0]+d[2][0])-h,y:g*(b*d[0][1]+c*d[1][1]+d[2][1])-h}}function T(a){return isFinite(a[0][0])&&isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1])}function U(a,b,c){if(!T(b))return;a.m_=b;if(c){var d=b[0][0]*b[1][1]-b[0][1]*b[1][0];a.lineScale_=f(e(d))}}function V(a){this.type_=a,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function W(a,b){Y(a);switch(b){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=b;break;default:X("SYNTAX_ERR")}this.src_=a.src,this.width_=a.width,this.height_=a.height}function X(a){throw new Z(a)}function Y(a){(!a||a.nodeType!=1||a.tagName!="IMG")&&X("TYPE_MISMATCH_ERR"),a.readyState!="complete"&&X("INVALID_STATE_ERR")}function Z(a){this.code=this[a],this.message=a+": DOM Exception "+this.code}var a=Math,b=a.round,c=a.sin,d=a.cos,e=a.abs,f=a.sqrt,g=10,h=g/2,i=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],k=Array.prototype.slice;o(document);var p={init:function(a){var b=a||document;b.createElement("canvas"),b.attachEvent("onreadystatechange",l(this.init_,this,b))},init_:function(a){var b=a.getElementsByTagName("canvas");for(var c=0;c<b.length;c++)this.initElement(b[c])},initElement:function(a){if(!a.getContext){a.getContext=j,o(a.ownerDocument),a.innerHTML="",a.attachEvent("onpropertychange",q),a.attachEvent("onresize",r);var b=a.attributes;b.width&&b.width.specified?a.style.width=b.width.nodeValue+"px":a.width=a.clientWidth,b.height&&b.height.specified?a.style.height=b.height.nodeValue+"px":a.height=a.clientHeight}return a}};p.init();var s=[];for(var t=0;t<16;t++)for(var u=0;u<16;u++)s[t*16+u]=t.toString(16)+u.toString(16);var y={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},E={},G={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"},H={},L={butt:"flat",round:"round"},O=N.prototype;O.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},O.beginPath=function(){this.currentPath_=[]},O.moveTo=function(a,b){var c=S(this,a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y}),this.currentX_=c.x,this.currentY_=c.y},O.lineTo=function(a,b){var c=S(this,a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y}),this.currentX_=c.x,this.currentY_=c.y},O.bezierCurveTo=function(a,b,c,d,e,f){var g=S(this,e,f),h=S(this,a,b),i=S(this,c,d);P(this,h,i,g)},O.quadraticCurveTo=function(a,b,c,d){var e=S(this,a,b),f=S(this,c,d),g={x:this.currentX_+2/3*(e.x-this.currentX_),y:this.currentY_+2/3*(e.y-this.currentY_)},h={x:g.x+(f.x-this.currentX_)/3,y:g.y+(f.y-this.currentY_)/3};P(this,g,h,f)},O.arc=function(a,b,f,i,j,k){f*=g;var l=k?"at":"wa",m=a+d(i)*f-h,n=b+c(i)*f-h,o=a+d(j)*f-h,p=b+c(j)*f-h;e(m-o)<1e-7&&!k&&(m+=.125),e(n-p)<1e-7&&k&&(n-=.125);var q=S(this,a,b),r=S(this,m,n),s=S(this,o,p);this.currentPath_.push({type:l,x:q.x,y:q.y,radius:f,xStart:r.x,yStart:r.y,xEnd:s.x,yEnd:s.y})},O.rect=function(a,b,c,d){this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath()},O.strokeRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.stroke(),this.currentPath_=e},O.fillRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath(),this.moveTo(a,b),this.lineTo(a+c,b),this.lineTo(a+c,b+d),this.lineTo(a,b+d),this.closePath(),this.fill(),this.currentPath_=e},O.createLinearGradient=function(a,b,c,d){var e=new V("gradient");return e.x0_=a,e.y0_=b,e.x1_=c,e.y1_=d,e},O.createRadialGradient=function(a,b,c,d,e,f){var g=new V("gradientradial");return g.x0_=a,g.y0_=b,g.r0_=c,g.x1_=d,g.y1_=e,g.r1_=f,g},O.drawImage=function(c,d){var e,f,h,i,j,k,l,m,n=c.runtimeStyle.width,o=c.runtimeStyle.height;c.runtimeStyle.width="auto",c.runtimeStyle.height="auto";var p=c.width,q=c.height;c.runtimeStyle.width=n,c.runtimeStyle.height=o;if(arguments.length==3)e=arguments[1],f=arguments[2],j=k=0,l=h=p,m=i=q;else if(arguments.length==5)e=arguments[1],f=arguments[2],h=arguments[3],i=arguments[4],j=k=0,l=p,m=q;else if(arguments.length==9)j=arguments[1],k=arguments[2],l=arguments[3],m=arguments[4],e=arguments[5],f=arguments[6],h=arguments[7],i=arguments[8];else throw Error("Invalid number of arguments");var r=S(this,e,f),s=l/2,t=m/2,u=[],v=10,w=10;u.push(" <g_vml_:group",' coordsize="',g*v,",",g*w,'"',' coordorigin="0,0"',' style="width:',v,"px;height:",w,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var x=[];x.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",b(r.x/g),",","Dy=",b(r.y/g),"");var y=r,z=S(this,e+h,f),A=S(this,e,f+i),B=S(this,e+h,f+i);y.x=a.max(y.x,z.x,A.x,B.x),y.y=a.max(y.y,z.y,A.y,B.y),u.push("padding:0 ",b(y.x/g),"px ",b(y.y/g),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",x.join(""),", sizingmethod='clip');")}else u.push("top:",b(r.y/g),"px;left:",b(r.x/g),"px;");u.push(' ">','<g_vml_:image src="',c.src,'"',' style="width:',g*h,"px;"," height:",g*i,'px"',' cropleft="',j/p,'"',' croptop="',k/q,'"',' cropright="',(p-j-l)/p,'"',' cropbottom="',(q-k-m)/q,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",u.join(""))},O.stroke=function(a){var c=[],d=!1,e=10,f=10;c.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',e,"px;height:",f,'px;"',' coordorigin="0,0"',' coordsize="',g*e,",",g*f,'"',' stroked="',!a,'"',' path="');var h=!1,i={x:null,y:null},j={x:null,y:null};for(var k=0;k<this.currentPath_.length;k++){var l=this.currentPath_[k],m;switch(l.type){case"moveTo":m=l,c.push(" m ",b(l.x),",",b(l.y));break;case"lineTo":c.push(" l ",b(l.x),",",b(l.y));break;case"close":c.push(" x "),l=null;break;case"bezierCurveTo":c.push(" c ",b(l.cp1x),",",b(l.cp1y),",",b(l.cp2x),",",b(l.cp2y),",",b(l.x),",",b(l.y));break;case"at":case"wa":c.push(" ",l.type," ",b(l.x-this.arcScaleX_*l.radius),",",b(l.y-this.arcScaleY_*l.radius)," ",b(l.x+this.arcScaleX_*l.radius),",",b(l.y+this.arcScaleY_*l.radius)," ",b(l.xStart),",",b(l.yStart)," ",b(l.xEnd),",",b(l.yEnd))}if(l){if(i.x==null||l.x<i.x)i.x=l.x;if(j.x==null||l.x>j.x)j.x=l.x;if(i.y==null||l.y<i.y)i.y=l.y;if(j.y==null||l.y>j.y)j.y=l.y}}c.push(' ">'),a?R(this,c,i,j):Q(this,c),c.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",c.join(""))},O.fill=function(){this.stroke(!0)},O.closePath=function(){this.currentPath_.push({type:"close"})},O.save=function(){var a={};x(this,a),this.aStack_.push(a),this.mStack_.push(this.m_),this.m_=w(v(),this.m_)},O.restore=function(){this.aStack_.length&&(x(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},O.translate=function(a,b){var c=[[1,0,0],[0,1,0],[a,b,1]];U(this,w(c,this.m_),!1)},O.rotate=function(a){var b=d(a),e=c(a),f=[[b,e,0],[-e,b,0],[0,0,1]];U(this,w(f,this.m_),!1)},O.scale=function(a,b){this.arcScaleX_*=a,this.arcScaleY_*=b;var c=[[a,0,0],[0,b,0],[0,0,1]];U(this,w(c,this.m_),!0)},O.transform=function(a,b,c,d,e,f){var g=[[a,b,0],[c,d,0],[e,f,1]];U(this,w(g,this.m_),!0)},O.setTransform=function(a,b,c,d,e,f){var g=[[a,b,0],[c,d,0],[e,f,1]];U(this,g,!0)},O.drawText_=function(a,c,d,e,f){var h=this.m_,i=1e3,j=0,k=i,l={x:0,y:0},n=[],o=J(I(this.font),this.element_),p=K(o),q=this.element_.currentStyle,r=this.textAlign.toLowerCase();switch(r){case"left":case"center":case"right":break;case"end":r=q.direction=="ltr"?"right":"left";break;case"start":r=q.direction=="rtl"?"right":"left";break;default:r="left"}switch(this.textBaseline){case"hanging":case"top":l.y=o.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":l.y=-o.size/2.25}switch(r){case"right":j=i,k=.05;break;case"center":j=k=i/2}var s=S(this,c+l.x,d+l.y);n.push('<g_vml_:line from="',-j,' 0" to="',k,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!f,'" stroked="',!!f,'" style="position:absolute;width:1px;height:1px;">'),f?Q(this,n):R(this,n,{x:-j,y:0},{x:k,y:o.size});var t=h[0][0].toFixed(3)+","+h[1][0].toFixed(3)+","+h[0][1].toFixed(3)+","+h[1][1].toFixed(3)+",0,0",u=b(s.x/g)+","+b(s.y/g);n.push('<g_vml_:skew on="t" matrix="',t,'" ',' offset="',u,'" origin="',j,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',m(a),'" style="v-text-align:',r,";font:",m(p),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",n.join(""))},O.fillText=function(a,b,c,d){this.drawText_(a,b,c,d,!1)},O.strokeText=function(a,b,c,d){this.drawText_(a,b,c,d,!0)},O.measureText=function(a){if(!this.textMeasureEl_){var b='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",b),this.textMeasureEl_=this.element_.lastChild}var c=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(c.createTextNode(a)),{width:this.textMeasureEl_.offsetWidth}},O.clip=function(){},O.arcTo=function(){},O.createPattern=function(a,b){return new W(a,b)},V.prototype.addColorStop=function(a,b){b=F(b),this.colors_.push({offset:a,color:b.color,alpha:b.alpha})};var $=Z.prototype=new Error;$.INDEX_SIZE_ERR=1,$.DOMSTRING_SIZE_ERR=2,$.HIERARCHY_REQUEST_ERR=3,$.WRONG_DOCUMENT_ERR=4,$.INVALID_CHARACTER_ERR=5,$.NO_DATA_ALLOWED_ERR=6,$.NO_MODIFICATION_ALLOWED_ERR=7,$.NOT_FOUND_ERR=8,$.NOT_SUPPORTED_ERR=9,$.INUSE_ATTRIBUTE_ERR=10,$.INVALID_STATE_ERR=11,$.SYNTAX_ERR=12,$.INVALID_MODIFICATION_ERR=13,$.NAMESPACE_ERR=14,$.INVALID_ACCESS_ERR=15,$.VALIDATION_ERR=16,$.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=p,CanvasRenderingContext2D=N,CanvasGradient=V,CanvasPattern=W,DOMException=Z}(),function(){function c(b){var c,d,e,f,g,h;e=b.length,d=0,c="";while(d<e){f=b.charCodeAt(d++)&255;if(d==e){c+=a.charAt(f>>2),c+=a.charAt((f&3)<<4),c+="==";break}g=b.charCodeAt(d++);if(d==e){c+=a.charAt(f>>2),c+=a.charAt((f&3)<<4|(g&240)>>4),c+=a.charAt((g&15)<<2),c+="=";break}h=b.charCodeAt(d++),c+=a.charAt(f>>2),c+=a.charAt((f&3)<<4|(g&240)>>4),c+=a.charAt((g&15)<<2|(h&192)>>6),c+=a.charAt(h&63)}return c}function d(a){var c,d,e,f,g,h,i;h=a.length,g=0,i="";while(g<h){do c=b[a.charCodeAt(g++)&255];while(g<h&&c==-1);if(c==-1)break;do d=b[a.charCodeAt(g++)&255];while(g<h&&d==-1);if(d==-1)break;i+=String.fromCharCode(c<<2|(d&48)>>4);do{e=a.charCodeAt(g++)&255;if(e==61)return i;e=b[e]}while(g<h&&e==-1);if(e==-1)break;i+=String.fromCharCode((d&15)<<4|(e&60)>>2);do{f=a.charCodeAt(g++)&255;if(f==61)return i;f=b[f]}while(g<h&&f==-1);if(f==-1)break;i+=String.fromCharCode((e&3)<<6|f)}return i}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];window.btoa||(window.btoa=c),window.atob||(window.atob=d)}()/*!
  * bean.js - copyright Jacob Thornton 2011
  * https://github.com/fat/bean
  * MIT License
  * special thanks to:
  * dean edwards: http://dean.edwards.name/
  * dperini: https://github.com/dperini/nwevents
  * the entire mootools team: github.com/mootools/mootools-core
  */
!function(a,b){typeof module!="undefined"?module.exports=b():typeof define=="function"&&typeof define.amd=="object"?define(b):this[a]=b()}("bean",function(){function G(a){var b=a.relatedTarget;return b?b!=this&&b.prefix!="xul"&&!/document/.test(this.toString())&&!p(this,b):b===null}var a=window,b=1,c={},d={},e=/over|out/,f=/[^\.]*(?=\..*)\.|.*/,g=/\..*/,h="addEventListener",i="attachEvent",j="removeEventListener",k="detachEvent",l=document||{},m=l.documentElement||{},n=m[h],o=n?h:i,p=function(a,b){var c=b.parentNode;while(c!==null){if(c==a)return!0;c=c.parentNode}},q=function(a,c){return a.__uid=c&&c+"::"+b++||a.__uid||b++},r=function(a){var b=q(a);return c[b]=c[b]||{}},s=n?function(a,b,c,d){a[d?h:j](b,c,!1)}:function(a,b,c,d,e){e&&d&&a["_on"+e]===null&&(a["_on"+e]=0),a[d?i:k]("on"+b,c)},t=function(b,c,d){return function(e){return e=D(e||((this.ownerDocument||this.document||this).parentWindow||a).event),c.apply(b,[e].concat(d))}},u=function(b,c,d,e,f){return function(g){if(e?e.apply(this,arguments):n?!0:g&&g.propertyName=="_on"+d||!g)g=g?D(g||((this.ownerDocument||this.document||this).parentWindow||a).event):null,c.apply(b,Array.prototype.slice.call(arguments,g?0:1).concat(f))}},v=function(a,b,c,e){var h=b.replace(g,""),i=r(a),j=i[h]||(i[h]={}),k=c,l=q(c,b.replace(f,""));if(j[l])return a;var m=H[h];m&&(c=m.condition?u(a,c,h,m.condition):c,h=m.base||h);var p=F[h];c=p?t(a,c,e):u(a,c,h,!1,e),p=n||p;if(h=="unload"){var v=c;c=function(){w(a,h,c)&&v()}}return a[o]&&s(a,p?h:"propertychange",c,!0,!p&&h),j[l]=c,c.__uid=l,c.__originalFn=k,h=="unload"?a:d[q(a)]=a},w=function(a,b,e){function p(b){e=l[m][b];if(!e)return;delete l[m][b];if(a[o]){m=H[m]?H[m].base:m;var c=n||F[m];s(a,c?m:"propertychange",e,!1,!c&&m)}}var h=a.__uid,i,j,k,l=r(a),m=b.replace(g,"");if(!l||!l[m])return a;i=b.replace(f,""),j=i?i.split("."):[e.__uid],p(i);for(k=j.length;k--;p(j[k]));return E(l[m])&&delete l[m],E(c[h])&&(delete c[h],delete d[h]),a},x=function(a,b,c){return function(d){var e=typeof a=="string"?c(a,this):a;for(var f=d.target;f&&f!=this;f=f.parentNode)for(var g=e.length;g--;)if(e[g]==f)return b.apply(f,arguments)}},y=function(a,b,c,d,e){if(typeof b=="object"&&!c)for(var f in b)b.hasOwnProperty(f)&&y(a,f,b[f]);else{var g=typeof c=="string",h=(g?c:b).split(" ");c=g?x(b,d,e):c;for(var i=h.length;i--;)v(a,h[i],c,Array.prototype.slice.call(arguments,g?4:3))}return a},z=function(a,b,c){var d,e,h,i,j,k=typeof b=="string",l=k&&b.replace(f,""),m=w,n=r(a);l=l&&l.split(".");if(k&&/\s/.test(b)){b=b.split(" "),j=b.length-1;while(z(a,b[j])&&j--);return a}i=k?b.replace(g,""):b;if(!n||l||k&&!n[i]){for(d in n)if(n.hasOwnProperty(d))for(j in n[d])for(e=l.length;e--;)n[d].hasOwnProperty(j)&&(new RegExp("^"+l[e]+"::\\d*(\\..*)?$")).test(j)&&m(a,[d,j].join("."));return a}if(typeof c=="function")m(a,i,c);else if(l)m(a,b);else{m=i?m:z,h=k&&i,i=i?c||n[i]||i:n;for(d in i)i.hasOwnProperty(d)&&(m(a,h||d,i[d]),delete i[d])}return a},A=function(a,b,c){var d,e,h,i,j=b.split(" ");for(h=j.length;h--;){b=j[h].replace(g,"");var k=F[b],l=j[h].replace(f,""),m=r(a)[b];if(l){l=l.split(".");for(e=l.length;e--;)for(i in m)m.hasOwnProperty(i)&&(new RegExp("^"+l[e]+"::\\d*(\\..*)?$")).test(i)&&m[i].apply(a,[!1].concat(c))}else if(!c&&a[o])B(k,b,a);else for(e in m)m.hasOwnProperty(e)&&m[e].apply(a,[!1].concat(c))}return a},B=n?function(b,c,d){evt=document.createEvent(b?"HTMLEvents":"UIEvents"),evt[b?"initEvent":"initUIEvent"](c,!0,!0,a,1),d.dispatchEvent(evt)}:function(a,b,c){a?c.fireEvent("on"+b,document.createEventObject()):c["_on"+b]++},C=function(a,b,c){var d=r(b),e,f,g=q(a);e=c?d[c]:d;for(f in e)e.hasOwnProperty(f)&&(c?y:C)(a,c||b,c?e[f].__originalFn:f);return a},D=function(a){var b={};if(!a)return b;var c=a.type,d=a.target||a.srcElement;b.preventDefault=D.preventDefault(a),b.stopPropagation=D.stopPropagation(a),b.target=d&&d.nodeType==3?d.parentNode:d;if(~c.indexOf("key"))b.keyCode=a.which||a.keyCode;else if(/click|mouse|menu/i.test(c)){b.rightClick=a.which==3||a.button==2,b.pos={x:0,y:0};if(a.pageX||a.pageY)b.clientX=a.pageX,b.clientY=a.pageY;else if(a.clientX||a.clientY)b.clientX=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b.clientY=a.clientY+document.body.scrollTop+document.documentElement.scrollTop;e.test(c)&&(b.relatedTarget=a.relatedTarget||a[(c=="mouseover"?"from":"to")+"Element"])}for(var f in a)f in b||(b[f]=a[f]);return b},E=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};D.preventDefault=function(a){return function(){a.preventDefault?a.preventDefault():a.returnValue=!1}},D.stopPropagation=function(a){return function(){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}};var F={click:1,dblclick:1,mouseup:1,mousedown:1,contextmenu:1,mousewheel:1,DOMMouseScroll:1,mouseover:1,mouseout:1,mousemove:1,selectstart:1,selectend:1,keydown:1,keypress:1,keyup:1,orientationchange:1,touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,focus:1,blur:1,change:1,reset:1,select:1,submit:1,load:1,unload:1,beforeunload:1,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,error:1,abort:1,scroll:1},H={mouseenter:{base:"mouseover",condition:G},mouseleave:{base:"mouseout",condition:G},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}},I={add:y,remove:z,clone:C,fire:A},J=function(a){var b=z(a).__uid;b&&(delete d[b],delete c[b])};return a[i]&&y(a,"unload",function(){for(var b in d)d.hasOwnProperty(b)&&J(d[b]);a.CollectGarbage&&CollectGarbage()}),I.noConflict=function(){return context.bean=old,this},I}),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.slice,h=d.unshift,i=e.toString,j=e.hasOwnProperty,k=d.forEach,l=d.map,m=d.reduce,n=d.reduceRight,o=d.filter,p=d.every,q=d.some,r=d.indexOf,s=d.lastIndexOf,t=Array.isArray,u=Object.keys,v=f.bind,w=function(a){return new B(a)};typeof module!="undefined"&&module.exports?(module.exports=w,w._=w):a._=w,w.VERSION="1.1.7";var x=w.each=w.forEach=function(a,b,d){if(a==null)return;if(k&&a.forEach===k)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(e in a&&b.call(d,a[e],e,a)===c)return}else for(var g in a)if(j.call(a,g)&&b.call(d,a[g],g,a)===c)return};w.map=function(a,b,c){var d=[];return a==null?d:l&&a.map===l?a.map(b,c):(x(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)},w.reduce=w.foldl=w.inject=function(a,b,c,d){var e=c!==void 0;a==null&&(a=[]);if(m&&a.reduce===m)return d&&(b=w.bind(b,d)),e?a.reduce(b,c):a.reduce(b);x(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c},w.reduceRight=w.foldr=function(a,b,c,d){a==null&&(a=[]);if(n&&a.reduceRight===n)return d&&(b=w.bind(b,d)),c!==void 0?a.reduceRight(b,c):a.reduceRight(b);var e=(w.isArray(a)?a.slice():w.toArray(a)).reverse();return w.reduce(e,b,c,d)},w.find=w.detect=function(a,b,c){var d;return y(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},w.filter=w.select=function(a,b,c){var d=[];return a==null?d:o&&a.filter===o?a.filter(b,c):(x(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},w.reject=function(a,b,c){var d=[];return a==null?d:(x(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},w.every=w.all=function(a,b,d){var e=!0;return a==null?e:p&&a.every===p?a.every(b,d):(x(a,function(a,f,g){if(!(e=e&&b.call(d,a,f,g)))return c}),e)};var y=w.some=w.any=function(a,b,d){b=b||w.identity;var e=!1;return a==null?e:q&&a.some===q?a.some(b,d):(x(a,function(a,f,g){if(e|=b.call(d,a,f,g))return c}),!!e)};w.include=w.contains=function(a,b){var c=!1;return a==null?c:r&&a.indexOf===r?a.indexOf(b)!=-1:(y(a,function(a){if(c=a===b)return!0}),c)},w.invoke=function(a,b){var c=g.call(arguments,2);return w.map(a,function(a){return(b.call?b||a:a[b]).apply(a,c)})},w.pluck=function(a,b){return w.map(a,function(a){return a[b]})},w.max=function(a,b,c){if(!b&&w.isArray(a))return Math.max.apply(Math,a);var d={computed:-Infinity};return x(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},w.min=function(a,b,c){if(!b&&w.isArray(a))return Math.min.apply(Math,a);var d={computed:Infinity};return x(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},w.sortBy=function(a,b,c){return w.pluck(w.map(a,function(a,d,e){return{value:a,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),"value")},w.groupBy=function(a,b){var c={};return x(a,function(a,d){var e=b(a,d);(c[e]||(c[e]=[])).push(a)}),c},w.sortedIndex=function(a,b,c){c||(c=w.identity);var d=0,e=a.length;while(d<e){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},w.toArray=function(a){return a?a.toArray?a.toArray():w.isArray(a)?g.call(a):w.isArguments(a)?g.call(a):w.values(a):[]},w.size=function(a){return w.toArray(a).length},w.first=w.head=function(a,b,c){return b!=null&&!c?g.call(a,0,b):a[0]},w.rest=w.tail=function(a,b,c){return g.call(a,b==null||c?1:b)},w.last=function(a){return a[a.length-1]},w.compact=function(a){return w.filter(a,function(a){return!!a})},w.flatten=function(a){return w.reduce(a,function(a,b){return w.isArray(b)?a.concat(w.flatten(b)):(a[a.length]=b,a)},[])},w.without=function(a){return w.difference(a,g.call(arguments,1))},w.uniq=w.unique=function(a,b){return w.reduce(a,function(a,c,d){if(0==d||(b===!0?w.last(a)!=c:!w.include(a,c)))a[a.length]=c;return a},[])},w.union=function(){return w.uniq(w.flatten(arguments))},w.intersection=w.intersect=function(a){var b=g.call(arguments,1);return w.filter(w.uniq(a),function(a){return w.every(b,function(b){return w.indexOf(b,a)>=0})})},w.difference=function(a,b){return w.filter(a,function(a){return!w.include(b,a)})},w.zip=function(){var a=g.call(arguments),b=w.max(w.pluck(a,"length")),c=new Array(b);for(var d=0;d<b;d++)c[d]=w.pluck(a,""+d);return c},w.indexOf=function(a,b,c){if(a==null)return-1;var d,e;if(c)return d=w.sortedIndex(a,b),a[d]===b?d:-1;if(r&&a.indexOf===r)return a.indexOf(b);for(d=0,e=a.length;d<e;d++)if(a[d]===b)return d;return-1},w.lastIndexOf=function(a,b){if(a==null)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);var c=a.length;while(c--)if(a[c]===b)return c;return-1},w.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);while(e<d)f[e++]=a,a+=c;return f},w.bind=function(a,b){if(a.bind===v&&v)return v.apply(a,g.call(arguments,1));var c=g.call(arguments,2);return function(){return a.apply(b,c.concat(g.call(arguments)))}},w.bindAll=function(a){var b=g.call(arguments,1);return b.length==0&&(b=w.functions(a)),x(b,function(b){a[b]=w.bind(a[b],a)}),a},w.memoize=function(a,b){var c={};return b||(b=w.identity),function(){var d=b.apply(this,arguments);return j.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}},w.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(a,c)},b)},w.defer=function(a){return w.delay.apply(w,[a,1].concat(g.call(arguments,1)))};var z=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,a.apply(e,f)};c&&clearTimeout(d);if(c||!d)d=setTimeout(g,b)}};w.throttle=function(a,b){return z(a,b,!1)},w.debounce=function(a,b){return z(a,b,!0)},w.once=function(a){var b=!1,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments))}},w.wrap=function(a,b){return function(){var c=[a].concat(g.call(arguments));return b.apply(this,c)}},w.compose=function(){var a=g.call(arguments);return function(){var b=g.call(arguments);for(var c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},w.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}},w.keys=u||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)j.call(a,c)&&(b[b.length]=c);return b},w.values=function(a){return w.map(a,w.identity)},w.functions=w.methods=function(a){var b=[];for(var c in a)w.isFunction(a[c])&&b.push(c);return b.sort()},w.extend=function(a){return x(g.call(arguments,1),function(b){for(var c in b)b[c]!==void 0&&(a[c]=b[c])}),a},w.defaults=function(a){return x(g.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])}),a},w.clone=function(a){return w.isArray(a)?a.slice():w.extend({},a)},w.tap=function(a,b){return b(a),a},w.isEqual=function(a,b){if(a===b)return!0;var c=typeof a,d=typeof b;if(c!=d)return!1;if(a==b)return!0;if(!a&&b||a&&!b)return!1;a._chain&&(a=a._wrapped),b._chain&&(b=b._wrapped);if(a.isEqual)return a.isEqual(b);if(b.isEqual)return b.isEqual(a);if(w.isDate(a)&&w.isDate(b))return a.getTime()===b.getTime();if(w.isNaN(a)&&w.isNaN(b))return!1;if(w.isRegExp(a)&&w.isRegExp(b))return a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline;if(c!=="object")return!1;if(a.length&&a.length!==b.length)return!1;var e=w.keys(a),f=w.keys(b);if(e.length!=f.length)return!1;for(var g in a)if(!(g in b)||!w.isEqual(a[g],b[g]))return!1;return!0},w.isEmpty=function(a){if(w.isArray(a)||w.isString(a))return a.length===0;for(var b in a)if(j.call(a,b))return!1;return!0},w.isElement=function(a){return!!a&&a.nodeType==1},w.isArray=t||function(a){return i.call(a)==="[object Array]"},w.isObject=function(a){return a===Object(a)},w.isArguments=function(a){return!!a&&!!j.call(a,"callee")},w.isFunction=function(a){return!!(a&&a.constructor&&a.call&&a.apply)},w.isString=function(a){return!!(a===""||a&&a.charCodeAt&&a.substr)},w.isNumber=function(a){return!!(a===0||a&&a.toExponential&&a.toFixed)},w.isNaN=function(a){return a!==a},w.isBoolean=function(a){return a===!0||a===!1},w.isDate=function(a){return!!(a&&a.getTimezoneOffset&&a.setUTCFullYear)},w.isRegExp=function(a){return!(!(a&&a.test&&a.exec)||!a.ignoreCase&&a.ignoreCase!==!1)},w.isNull=function(a){return a===null},w.isUndefined=function(a){return a===void 0},w.noConflict=function(){return a._=b,this},w.identity=function(a){return a},w.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)},w.mixin=function(a){x(w.functions(a),function(b){D(b,w[b]=a[b])})};var A=0;w.uniqueId=function(a){var b=A++;return a?a+b:b},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},w.template=function(a,b){var c=w.templateSettings,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.interpolate,function(a,b){return"',"+b.replace(/\\'/g,"'")+",'"}).replace(c.evaluate||null,function(a,b){return"');"+b.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("obj",d);return b?e(b):e};var B=function(a){this._wrapped=a};w.prototype=B.prototype;var C=function(a,b){return b?w(a).chain():a},D=function(a,b){B.prototype[a]=function(){var a=g.call(arguments);return h.call(a,this._wrapped),C(b.apply(w,a),this._chain)}};w.mixin(w),x(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];B.prototype[a]=function(){return b.apply(this._wrapped,arguments),C(this._wrapped,this._chain)}}),x(["concat","join","slice"],function(a){var b=d[a];B.prototype[a]=function(){return C(b.apply(this._wrapped,arguments),this._chain)}}),B.prototype.chain=function(){return this._chain=!0,this},B.prototype.value=function(){return this._wrapped}}();var Canvas2Image=function(){var a=document.createElement("canvas"),b=String.fromCharCode,c="image/octet-stream",d=!1;if(!a.getContext)return{saveAsBMP:function(){},saveAsPNG:function(){},saveAsJPEG:function(){}};var e=!!a.getContext("2d").getImageData,f=!!a.toDataURL,g=!!window.btoa,h=function(a){var b=parseInt(a.width),c=parseInt(a.height);return a.getContext("2d").getImageData(0,0,b,c)},i=function(a){var c,d,e="";if(typeof a=="string")e=a;else{d=a;for(c=0;c<d.length;c++)e+=b(d[c])}return btoa(e)},j=function(a){var c="",d=a.width,e=a.height;c+="BM";var f=d*e*4+54;c+=b(f%256),f=Math.floor(f/256),c+=b(f%256),f=Math.floor(f/256),c+=b(f%256),f=Math.floor(f/256),c+=b(f%256),c+=b(0,0,0,0,54,0,0,0),c+=b(40,0,0,0);var g=d;c+=b(g%256),g=Math.floor(g/256),c+=b(g%256),g=Math.floor(g/256),c+=b(g%256),g=Math.floor(g/256),c+=b(g%256);var h=e;c+=b(h%256),h=Math.floor(h/256),c+=b(h%256),h=Math.floor(h/256),c+=b(h%256),h=Math.floor(h/256),c+=b(h%256),c+=b(1,0,32,0),c+=b(0,0,0,0);var j=d*e*4;c+=b(j%256),j=Math.floor(j/256),c+=b(j%256),j=Math.floor(j/256),c+=b(j%256),j=Math.floor(j/256),c+=b(j%256),c+=b(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var k=a.data,l="",m,n,o=e,p,q,r;do{q=d*(o-1)*4,r="";for(n=0;n<d;n++)p=4*n,r+=b(k[q+p+2],k[q+p+1],k[q+p],k[q+p+3]);l+=r}while(--o);return i(c+l)},k=function(a){window.open(a)||(document.location.href=a)},l=function(a,b){return"data:"+b+";base64,"+a},m=function(a){var b=document.createElement("img");return b.src=a,b},n=function(a,b,c){if(b&&c){var d=document.createElement("canvas");d.width=b,d.height=c,d.style.width=b+"px",d.style.height=c+"px";var e=d.getContext("2d");return e.drawImage(a,0,0,a.width,a.height,0,0,b,b),d}return a};return{saveAsPNG:function(a,b,e,g){if(!f)return!1;var h=n(a,e,g),i="image/png",j=h.toDataURL(i);return b?m(j):(k(d?j.replace(i,c):j),!0)},saveAsJPEG:function(a,b,e,g){if(!f)return!1;var h=n(a,e,g),i="image/jpeg",j=h.toDataURL(i);return j.indexOf(i)!=5?!1:b?m(j):(k(d?j.replace(i,c):j),!0)},saveAsBMP:function(a,b,c,d){if(!(f&&e&&g))return!1;var i=n(a,c,d),o="image/bmp",p=h(i),q=j(p);return b?m(l(q,o)):(k(l(q,o)),!0)}}}();

(function(){var a=this,b=this.Flotr,c;c={_:_,version:"0.2.0-alpha",revision:("$Revision: 192 $".match(/(\d+)/)||[null,null])[1],author:["Bas Wenneker","Fabien Ménager"],website:"http://www.solutoire.com",isIphone:/iphone/i.test(navigator.userAgent),isIE:navigator.appVersion.indexOf("MSIE")!=-1?parseFloat(navigator.appVersion.split("MSIE")[1]):!1,graphTypes:{},plugins:{},addType:function(a,b){c.graphTypes[a]=b,c.defaultOptions[a]=b.options||{},c.defaultOptions.defaultType=c.defaultOptions.defaultType||a},addPlugin:function(a,b){c.plugins[a]=b,c.defaultOptions[a]=b.options||{}},draw:function(a,b,d,e){return e=e||c.Graph,new e(a,b,d)},merge:function(a,b){var d,e,f=b||{};for(d in a)e=a[d],f[d]=e&&typeof e=="object"&&e.constructor!==Array&&e.constructor!==RegExp&&!this._.isElement(e)?c.merge(e,b?b[d]:undefined):f[d]=e;return f},clone:function(a){var b,d,e={};for(b in a)d=a[b],e[b]=d&&typeof d=="object"&&d.constructor!==Array&&d.constructor!==RegExp&&!this._.isElement(d)?c.clone(d):d;return e},getTickSize:function(a,b,d,e){var f=(d-b)/a,g=c.getMagnitude(f),h=10,i=f/g;return i<1.5?h=1:i<2.25?h=2:i<3?h=e==0?2:2.5:i<7.5&&(h=5),h*g},defaultTickFormatter:function(a,b){return a+""},defaultTrackFormatter:function(a){return"("+a.x+", "+a.y+")"},engineeringNotation:function(a,b,c){var d=["Y","Z","E","P","T","G","M","k",""],e=["y","z","a","f","p","n","µ","m",""],f=d.length;c=c||1e3,b=Math.pow(10,b||2);if(a==0)return 0;if(a>1)while(f--&&a>=c)a/=c;else{d=e,f=d.length;while(f--&&a<1)a*=c}return Math.round(a*b)/b+d[f]},getMagnitude:function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))},toPixel:function(a){return Math.floor(a)+.5},toRad:function(a){return-a*(Math.PI/180)},floorInBase:function(a,b){return b*Math.floor(a/b)},drawText:function(a,b,d,e,f){if(!a.fillText||c.isIphone){a.drawText(b,d,e,f);return}f=this._.extend({size:c.defaultOptions.fontSize,color:"#000000",textAlign:"left",textBaseline:"bottom",weight:1,angle:0},f),a.save(),a.translate(d,e),a.rotate(f.angle),a.fillStyle=f.color,a.font=(f.weight>1?"bold ":"")+f.size*1.3+"px sans-serif",a.textAlign=f.textAlign,a.textBaseline=f.textBaseline,a.fillText(b,0,0),a.restore()},getBestTextAlign:function(a,b){return b=b||{textAlign:"center",textBaseline:"middle"},a+=c.getTextAngleFromAlign(b),Math.abs(Math.cos(a))>.01&&(b.textAlign=Math.cos(a)>0?"right":"left"),Math.abs(Math.sin(a))>.01&&(b.textBaseline=Math.sin(a)>0?"top":"bottom"),b},alignTable:{"right middle":0,"right top":Math.PI/4,"center top":Math.PI/2,"left top":3*(Math.PI/4),"left middle":Math.PI,"left bottom":-3*(Math.PI/4),"center bottom":-Math.PI/2,"right bottom":-Math.PI/4,"center middle":0},getTextAngleFromAlign:function(a){return c.alignTable[a.textAlign+" "+a.textBaseline]||0},noConflict:function(){return a.Flotr=b,this}},a.Flotr=c})(),Flotr.defaultOptions={colors:["#00A8F0","#C0D800","#CB4B4B","#4DA74D","#9440ED"],ieBackgroundColor:"#FFFFFF",title:null,subtitle:null,shadowSize:4,defaultType:null,HtmlText:!0,fontSize:7.5,resolution:1,parseFloat:!0,xaxis:{ticks:null,minorTicks:null,showLabels:!0,showMinorLabels:!1,labelsAngle:0,title:null,titleAngle:0,noTicks:5,minorTickFreq:null,tickFormatter:Flotr.defaultTickFormatter,tickDecimals:null,min:null,max:null,autoscale:!1,autoscaleMargin:0,color:null,mode:"normal",timeFormat:null,scaling:"linear",base:Math.E,titleAlign:"center",margin:!0},x2axis:{},yaxis:{ticks:null,minorTicks:null,showLabels:!0,showMinorLabels:!1,labelsAngle:0,title:null,titleAngle:90,noTicks:5,minorTickFreq:null,tickFormatter:Flotr.defaultTickFormatter,tickDecimals:null,min:null,max:null,autoscale:!1,autoscaleMargin:0,color:null,scaling:"linear",base:Math.E,titleAlign:"center",margin:!0},y2axis:{titleAngle:270},grid:{color:"#545454",backgroundColor:null,backgroundImage:null,watermarkAlpha:.4,tickColor:"#DDDDDD",labelMargin:3,verticalLines:!0,minorVerticalLines:null,horizontalLines:!0,minorHorizontalLines:null,outlineWidth:1,circular:!1},mouse:{track:!1,trackAll:!1,position:"se",relative:!1,trackFormatter:Flotr.defaultTrackFormatter,margin:5,lineColor:"#FF3F19",trackDecimals:1,sensibility:2,trackY:!0,radius:3,fillColor:null,fillOpacity:.4}},function(){function b(a,b,c,d){this.rgba=["r","g","b","a"];var e=4;while(-1<--e)this[this.rgba[e]]=arguments[e]||(e==3?1:0);this.normalize()}var a=Flotr._,c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};b.prototype={scale:function(a,b,c,d){var e=4;while(-1<--e)arguments[e]!=null&&(this[this.rgba[e]]*=arguments[e]);return this.normalize()},alpha:function(b){return!a.isUndefined(b)&&!a.isNull(b)&&(this.a=b),this.normalize()},clone:function(){return new b(this.r,this.b,this.g,this.a)},limit:function(a,b,c){return Math.max(Math.min(a,c),b)},normalize:function(){var a=this.limit;return this.r=a(parseInt(this.r),0,255),this.g=a(parseInt(this.g),0,255),this.b=a(parseInt(this.b),0,255),this.a=a(this.a,0,1),this},distance:function(a){if(!a)return;a=new b.parse(a);var c=0,d=3;while(-1<--d)c+=Math.abs(this[this.rgba[d]]-a[this.rgba[d]]);return c},toString:function(){return this.a>=1?"rgb("+[this.r,this.g,this.b].join(",")+")":"rgba("+[this.r,this.g,this.b,this.a].join(",")+")"}},a.extend(b,{parse:function(a){if(a instanceof b)return a;var d;if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))return new b(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))return new b(parseInt(d[1]),parseInt(d[2]),parseInt(d[3]));if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))return new b(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16));if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(a))return new b(parseInt(d[1]),parseInt(d[2]),parseInt(d[3]),parseFloat(d[4]));if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))return new b(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55);if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(a))return new b(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55,parseFloat(d[4]));var e=(a+"").replace(/^\s*([\S\s]*?)\s*$/,"$1").toLowerCase();return e=="transparent"?new b(255,255,255,0):(d=c[e])?new b(d[0],d[1],d[2]):new b(0,0,0,0)},processColor:function(c,d){var e=d.opacity;if(!c)return"rgba(0, 0, 0, 0)";if(c instanceof b)return c.alpha(e).toString();if(a.isString(c))return b.parse(c).alpha(e).toString();var f=c.colors?c:{colors:c};if(!d.ctx)return a.isArray(f.colors)?b.parse(a.isArray(f.colors[0])?f.colors[0][1]:f.colors[0]).alpha(e).toString():"rgba(0, 0, 0, 0)";f=a.extend({start:"top",end:"bottom"},f),/top/i.test(f.start)&&(d.x1=0),/left/i.test(f.start)&&(d.y1=0),/bottom/i.test(f.end)&&(d.x2=0),/right/i.test(f.end)&&(d.y2=0);var g,h,i,j=d.ctx.createLinearGradient(d.x1,d.y1,d.x2,d.y2);for(g=0;g<f.colors.length;g++)h=f.colors[g],a.isArray(h)?(i=h[0],h=h[1]):i=g/(f.colors.length-1),j.addColorStop(i,b.parse(h).alpha(e));return j}}),Flotr.Color=b}(),Flotr.Date={format:function(a,b){function d(a){return a+="",a.length==1?"0"+a:a}if(!a)return;var c={h:a.getUTCHours().toString(),H:d(a.getUTCHours()),M:d(a.getUTCMinutes()),S:d(a.getUTCSeconds()),s:a.getUTCMilliseconds(),d:a.getUTCDate().toString(),m:(a.getUTCMonth()+1).toString(),y:a.getUTCFullYear().toString(),b:Flotr.Date.monthNames[a.getUTCMonth()]},e=[],f,g=!1;for(var h=0;h<b.length;++h)f=b.charAt(h),g?(e.push(c[f]||f),g=!1):f=="%"?g=!0:e.push(f);return e.join("")},getFormat:function(a,b){var c=Flotr.Date.timeUnits;return a<c.second?"%h:%M:%S.%s":a<c.minute?"%h:%M:%S":a<c.day?b<2*c.day?"%h:%M":"%b %d %h:%M":a<c.month?"%b %d":a<c.year?b<c.year?"%b":"%b %y":"%y"},formatter:function(a,b){var c=new Date(a);if(b.options.timeFormat!=null)return Flotr.Date.format(c,b.options.timeFormat);var d=b.max-b.min,e=b.tickSize*Flotr.Date.timeUnits[b.tickUnit];return Flotr.Date.format(c,Flotr.Date.getFormat(e,d))},generator:function(a){var b=[],c=new Date(a.min),d=Flotr.Date.timeUnits,e=a.tickSize*d[a.tickUnit];switch(a.tickUnit){case"millisecond":c.setUTCMilliseconds(Flotr.floorInBase(c.getUTCMilliseconds(),a.tickSize));break;case"second":c.setUTCSeconds(Flotr.floorInBase(c.getUTCSeconds(),a.tickSize));break;case"minute":c.setUTCMinutes(Flotr.floorInBase(c.getUTCMinutes(),a.tickSize));break;case"hour":c.setUTCHours(Flotr.floorInBase(c.getUTCHours(),a.tickSize));break;case"month":c.setUTCMonth(Flotr.floorInBase(c.getUTCMonth(),a.tickSize));break;case"year":c.setUTCFullYear(Flotr.floorInBase(c.getUTCFullYear(),a.tickSize))}e>=d.second&&c.setUTCMilliseconds(0),e>=d.minute&&c.setUTCSeconds(0),e>=d.hour&&c.setUTCMinutes(0),e>=d.day&&c.setUTCHours(0),e>=d.day*4&&c.setUTCDate(1),e>=d.year&&c.setUTCMonth(0);var f=0,g=Number.NaN,h;do{h=g,g=c.getTime(),b.push({v:g,label:Flotr.Date.formatter(g,a)});if(a.tickUnit=="month")if(a.tickSize<1){c.setUTCDate(1);var i=c.getTime();c.setUTCMonth(c.getUTCMonth()+1);var j=c.getTime();c.setTime(g+f*d.hour+(j-i)*a.tickSize),f=c.getUTCHours(),c.setUTCHours(0)}else c.setUTCMonth(c.getUTCMonth()+a.tickSize);else a.tickUnit=="year"?c.setUTCFullYear(c.getUTCFullYear()+a.tickSize):c.setTime(g+e)}while(g<a.max&&g!=h);return b},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:31556952e3},spec:[[1,"millisecond"],[20,"millisecond"],[50,"millisecond"],[100,"millisecond"],[200,"millisecond"],[500,"millisecond"],[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},function(){var a=Flotr._;Flotr.DOM={addClass:function(b,c){var d=b.className?b.className:"";if(a.include(d.split(/\s+/g),c))return;b.className=(d?d+" ":"")+c},create:function(a){return document.createElement(a)},node:function(a){var b=Flotr.DOM.create("div"),c;return b.innerHTML=a,c=b.children[0],b.innerHTML="",c},empty:function(a){a.innerHTML=""},hide:function(a){Flotr.DOM.setStyles(a,{display:"none"})},insert:function(b,c){a.isString(c)?b.innerHTML+=c:a.isElement(c)&&b.appendChild(c)},opacity:function(a,b){a.style.opacity=b},position:function(a,b){return a.offsetParent?(b=this.position(a.offsetParent),b.left+=a.offsetLeft,b.top+=a.offsetTop,b):{left:a.offsetLeft||0,top:a.offsetTop||0}},removeClass:function(b,c){var d=b.className?b.className:"";b.className=a.filter(d.split(/\s+/g),function(a){if(a!=c)return!0}).join(" ")},setStyles:function(b,c){a.each(c,function(a,c){b.style[c]=a})},show:function(a){Flotr.DOM.setStyles(a,{display:""})},size:function(a){return{height:a.scrollHeight,width:a.scrollWidth}}}}(),Flotr.EventAdapter={observe:function(a,b,c){return bean.add(a,b,c),this},fire:function(a,b,c){return bean.fire(a,b,c),typeof Prototype!="undefined"&&Event.fire(a,b,c),this},stopObserving:function(a,b,c){return bean.remove(a,b,c),this},eventPointer:function(a){return!Flotr._.isUndefined(a.touches)&&a.touches.length>0?{x:a.touches[0].pageX,y:a.touches[0].pageY}:!Flotr._.isUndefined(a.changedTouches)&&a.changedTouches.length>0?{x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY}:Flotr.isIE&&Flotr.isIE<9?{x:a.clientX+document.body.scrollLeft,y:a.clientY+document.body.scrollTop}:{x:a.pageX,y:a.pageY}}},function(){var a=Flotr,b=a.DOM,c=a._,d=function(a){this.o=a};d.prototype={dimensions:function(a,b,c,d){return a?this.o.html?this.html(a,this.o.element,c,d):this.canvas(a,b):{width:0,height:0}},canvas:function(b,c){if(!this.o.textEnabled)return;c=c||{};var d=this.measureText(b,c),e=d.width,f=c.size||a.defaultOptions.fontSize,g=c.angle||0,h=Math.cos(g),i=Math.sin(g),j=2,k=6,l;return l={width:Math.abs(h*e)+Math.abs(i*f)+j,height:Math.abs(i*e)+Math.abs(h*f)+k},l},html:function(a,c,d,e){var f=b.create("div");return b.setStyles(f,{position:"absolute",top:"-10000px"}),b.insert(f,'<div style="'+d+'" class="'+e+' flotr-dummy-div">'+a+"</div>"),b.insert(this.o.element,f),b.size(f)},measureText:function(b,d){var e=this.o.ctx,f;return!e.fillText||a.isIphone?{width:e.measure(b,d)}:(d=c.extend({size:a.defaultOptions.fontSize,weight:1,angle:0},d),e.save(),e.font=(d.weight>1?"bold ":"")+d.size*1.3+"px sans-serif",f=e.measureText(b),e.restore(),f)}},Flotr.Text=d}(),function(){var a=Flotr.DOM,b=Flotr.EventAdapter,c=Flotr._;flotr=Flotr,Graph=function(a,d,e){this._setEl(a),this._initMembers(),this._initPlugins(),b.fire(this.el,"flotr:beforeinit",[this]),this.data=d,this.series=flotr.Series.getSeries(d),this._initOptions(e),this._initGraphTypes(),this._initCanvas(),this._text=new flotr.Text({element:this.el,ctx:this.ctx,html:this.options.HtmlText,textEnabled:this.textEnabled}),b.fire(this.el,"flotr:afterconstruct",[this]),this._initEvents(),this.findDataRanges(),this.calculateSpacing(),this.draw(c.bind(function(){b.fire(this.el,"flotr:afterinit",[this])},this))},Graph.prototype={destroy:function(){c.each(this._handles,function(a){b.stopObserving.apply(this,a)}),this._handles=[],this.el.graph=null},_observe:function(a,c,d){return b.observe.apply(this,arguments),this._handles.push(arguments),this},getType:function(a){var b=a&&a.type?a.type:this.options.defaultType;return this[b]},processColor:function(a,b){var d={x1:0,y1:0,x2:this.plotWidth,y2:this.plotHeight,opacity:1,ctx:this.ctx};return c.extend(d,b),flotr.Color.processColor(a,d)},findDataRanges:function(){var a=this.axes,b,d,e;a.x.datamin=a.x2.datamin=a.y.datamin=a.y2.datamin=Number.MAX_VALUE,a.x.datamax=a.x2.datamax=a.y.datamax=a.y2.datamax=-Number.MAX_VALUE,c.each(this.series,function(a){e=a.getRange(),e&&(b=a.xaxis,d=a.yaxis,b.datamin=Math.min(e.xmin,b.datamin),b.datamax=Math.max(e.xmax,b.datamax),d.datamin=Math.min(e.ymin,d.datamin),d.datamax=Math.max(e.ymax,d.datamax),b.used=b.used||e.xused?!0:!1,d.used=d.used||e.yused?!0:!1)},this),!a.x.used&&!a.x2.used&&(a.x.used=!0),!a.y.used&&!a.y2.used&&(a.y.used=!0),c.each(a,function(a){a.calculateRange()});var f=c.keys(flotr.graphTypes);c.each(this.series,function(a){c.each(f,function(b){a[b]&&a[b].show&&(this[b].extendRange&&this[b].extendRange(a),this[b].extendYRange&&this[b].extendYRange(a.yaxis),this[b].extendXRange&&this[b].extendXRange(a.xaxis))},this)},this)},calculateSpacing:function(){var a=this.axes,b=this.options,d=this.series,e=b.grid.labelMargin,f=this._text,g=a.x,h=a.x2,i=a.y,j=a.y2,k=b.grid.outlineWidth,l,m,n,o;c.each(a,function(a){a.calculateTicks(),a.calculateTextDimensions(f,b)}),o=f.dimensions(b.title,{size:b.fontSize*1.5},"font-size:1em;font-weight:bold;","flotr-title"),this.titleHeight=o.height,o=f.dimensions(b.subtitle,{size:b.fontSize},"font-size:smaller;","flotr-subtitle"),this.subtitleHeight=o.height;for(m=0;m<b.length;++m)d[m].points.show&&(k=Math.max(k,d[m].points.radius+d[m].points.lineWidth/2));var p=this.plotOffset;g.options.margin===!1?(p.bottom=0,p.top=0):(p.bottom+=(b.grid.circular?0:g.used&&g.options.showLabels?g.maxLabel.height+e:0)+(g.used&&g.options.title?g.titleSize.height+e:0)+k,p.top+=(b.grid.circular?0:h.used&&h.options.showLabels?h.maxLabel.height+e:0)+(h.used&&h.options.title?h.titleSize.height+e:0)+this.subtitleHeight+this.titleHeight+k),i.options.margin===!1?(p.left=0,p.right=0):(p.left+=(b.grid.circular?0:i.used&&i.options.showLabels?i.maxLabel.width+e:0)+(i.used&&i.options.title?i.titleSize.width+e:0)+k,p.right+=(b.grid.circular?0:j.used&&j.options.showLabels?j.maxLabel.width+e:0)+(j.used&&j.options.title?j.titleSize.width+e:0)+k),p.top=Math.floor(p.top),this.plotWidth=this.canvasWidth-p.left-p.right,this.plotHeight=this.canvasHeight-p.bottom-p.top,g.length=h.length=this.plotWidth,i.length=j.length=this.plotHeight,i.offset=j.offset=this.plotHeight,g.setScale(),h.setScale(),i.setScale(),j.setScale()},draw:function(a){var d=c.bind(function(){if(this.series.length){b.fire(this.el,"flotr:beforedraw",[this.series,this]);for(var c=0;c<this.series.length;c++)this.series[c].hide||this.drawSeries(this.series[c])}this.clip(),b.fire(this.el,"flotr:afterdraw",[this.series,this]),a()},this),e=this.options.grid;if(e&&e.backgroundImage){c.isString(e.backgroundImage)?e.backgroundImage={src:e.backgroundImage,left:0,top:0}:e.backgroundImage=c.extend({left:0,top:0},e.backgroundImage);var f=new Image;f.onload=c.bind(function(){var a=this.plotOffset.left+(parseInt(e.backgroundImage.left)||0),b=this.plotOffset.top+(parseInt(e.backgroundImage.top)||0),c=this.ctx.globalAlpha;this.ctx.globalAlpha=e.backgroundImage.alpha||c,this.ctx.drawImage(f,a,b),this.ctx.globalAlpha=c,d()},this),f.onabort=f.onerror=d,f.src=e.backgroundImage.src}else d()},drawSeries:function(a){a=a||this.series;var b=!1;c.each(flotr.graphTypes,function(c,d){a[d]&&a[d].show&&(b=!0,c.draw.call(this,a))},this),b||this[this.options.defaultType].draw(a)},getEventPosition:function(a){var c=document,d=this.overlay.getBoundingClientRect(),e=b.eventPointer(a),f=a.clientX-c.body.scrollLeft-c.documentElement.scrollLeft-d.left-this.plotOffset.left,g=a.clientY-c.body.scrollTop-c.documentElement.scrollTop-d.top-this.plotOffset.top,h=e.x-this.lastMousePos.pageX,i=e.y-this.lastMousePos.pageY;return{x:this.axes.x.p2d(f),x2:this.axes.x2.p2d(f),y:this.axes.y.p2d(g),y2:this.axes.y2.p2d(g),relX:f,relY:g,dX:h,dY:i,absX:e.x,absY:e.y}},clickHandler:function(a){if(this.ignoreClick)return this.ignoreClick=!1,this.ignoreClick;b.fire(this.el,"flotr:click",[this.getEventPosition(a),this])},mouseMoveHandler:function(a){var c=this.getEventPosition(a);this.lastMousePos.pageX=c.absX,this.lastMousePos.pageY=c.absY,b.fire(this.el,"flotr:mousemove",[a,c,this])},mouseDownHandler:function(a){this.mouseUpHandler=c.bind(this.mouseUpHandler,this),b.observe(document,"mouseup",this.mouseUpHandler),b.fire(this.el,"flotr:mousedown",[a,this])},mouseUpHandler:function(a){b.stopObserving(document,"mouseup",this.mouseUpHandler),b.fire(this.el,"flotr:mouseup",[a,this])},drawTooltip:function(b,c,d,e){var f=this.getMouseTrack(),g="opacity:0.7;background-color:#000;color:#fff;display:none;position:absolute;padding:2px 8px;-moz-border-radius:4px;border-radius:4px;white-space:nowrap;",h=e.position,i=e.margin,j=this.plotOffset;c!==null&&d!==null?(e.relative?(h.charAt(0)=="n"?g+="bottom:"+(i-j.top-d+this.canvasHeight)+"px;top:auto;":h.charAt(0)=="s"&&(g+="top:"+(i+j.top+d)+"px;bottom:auto;"),h.charAt(1)=="e"?g+="left:"+(i+j.left+c)+"px;right:auto;":h.charAt(1)=="w"&&(g+="right:"+(i-j.left-c+this.canvasWidth)+"px;left:auto;")):(h.charAt(0)=="n"?g+="top:"+(i+j.top)+"px;bottom:auto;":h.charAt(0)=="s"&&(g+="bottom:"+(i+j.bottom)+"px;top:auto;"),h.charAt(1)=="e"?g+="right:"+(i+j.right)+"px;left:auto;":h.charAt(1)=="w"&&(g+="left:"+(i+j.left)+"px;right:auto;")),f.style.cssText=g,a.empty(f),a.insert(f,b),a.show(f)):a.hide(f)},clip:function(){var a=this.ctx,b=this.plotOffset,c=this.canvasWidth,d=this.canvasHeight;flotr.isIE&&flotr.isIE<9?(a.save(),a.fillStyle=this.processColor(this.options.ieBackgroundColor),a.fillRect(0,0,c,b.top),a.fillRect(0,0,b.left,d),a.fillRect(0,d-b.bottom,c,b.bottom),a.fillRect(c-b.right,0,b.right,d),a.restore()):(a.clearRect(0,0,c,b.top),a.clearRect(0,0,b.left,d),a.clearRect(0,d-b.bottom,c,b.bottom),a.clearRect(c-b.right,0,b.right,d))},_initMembers:function(){this._handles=[],this.lastMousePos={pageX:null,pageY:null},this.plotOffset={left:0,right:0,top:0,bottom:0},this.ignoreClick=!1,this.prevHit=null},_initGraphTypes:function(){c.each(flotr.graphTypes,function(a,b){this[b]=c.clone(a),c.each(a,function(a,d){c.isFunction(a)&&(this[b][d]=c.bind(a,this))},this)},this)},_initEvents:function(){this._observe(this.overlay,"mousedown",c.bind(this.mouseDownHandler,this))._observe(this.el,"mousemove",c.bind(this.mouseMoveHandler,this))._observe(this.overlay,"click",c.bind(this.clickHandler,this));var a=c.bind(function(c){b.stopObserving(document,"touchend",a),b.fire(this.el,"flotr:mouseup",[event,this])},this);this._observe(this.overlay,"touchstart",c.bind(function(c){b.fire(this.el,"flotr:mousedown",[event,this]),this._observe(document,"touchend",a)},this)),this._observe(this.overlay,"touchmove",c.bind(function(a){a.preventDefault();var c=a.touches[0].pageX,d=a.touches[0].pageY,e=this.getEventPosition(a.touches[0]);this.lastMousePos.pageX=c,this.lastMousePos.pageY=d,b.fire(this.el,"flotr:mousemove",[event,e,this])},this))},_initCanvas:function(){function g(f,g){return f||(f=a.create("canvas"),f.className="flotr-"+g,f.style.cssText="position:absolute;left:0px;top:0px;"),c.each(e,function(b,c){f.setAttribute(c,b*d.resolution),f.style[c]=b+"px",a.show(f)}),f.context_=null,a.insert(b,f),f}function h(a){window.G_vmlCanvasManager&&window.G_vmlCanvasManager.initElement(a);var b=a.getContext("2d");return window.G_vmlCanvasManager||b.scale(d.resolution,d.resolution),b}var b=this.el,d=this.options,e,f;a.empty(b),a.setStyles(b,{position:"relative",cursor:b.style.cursor||"default"}),e=a.size(b);if(e.width<=0||e.height<=0||d.resolution<=0)throw"Invalid dimensions for plot, width = "+e.width+", height = "+e.height+", resolution = "+d.resolution;this.canvas=g(this.canvas,"canvas"),this.overlay=g(this.overlay,"overlay"),this.ctx=h(this.canvas),this.octx=h(this.overlay),this.canvasHeight=e.height*d.resolution,this.canvasWidth=e.width*d.resolution,this.textEnabled=!!this.ctx.drawText||!!this.ctx.fillText},_initPlugins:function(){c.each(flotr.plugins,function(a,b){c.each(a.callbacks,function(a,b){this._observe(this.el,b,c.bind(a,this))},this),this[b]=c.clone(a),c.each(this[b],function(a,d){c.isFunction(a)&&(this[b][d]=c.bind(a,this))},this)},this)},_initOptions:function(a){var b=flotr.clone(flotr.defaultOptions);b.x2axis=c.extend(c.clone(b.xaxis),b.x2axis),b.y2axis=c.extend(c.clone(b.yaxis),b.y2axis),this.options=flotr.merge(a||{},b),this.axes=flotr.Axis.getAxes(this.options),this.options.grid.minorVerticalLines===null&&this.options.xaxis.scaling==="logarithmic"&&(this.options.grid.minorVerticalLines=!0),this.options.grid.minorHorizontalLines===null&&this.options.yaxis.scaling==="logarithmic"&&(this.options.grid.minorHorizontalLines=!0);var d=[],e=[],f=this.series.length,g=this.series.length,h=this.options.colors,i=[],j=0,k,l,m,n;for(l=g-1;l>-1;--l)k=this.series[l].color,k&&(--g,c.isNumber(k)?d.push(k):i.push(flotr.Color.parse(k)));for(l=d.length-1;l>-1;--l)g=Math.max(g,d[l]+1);for(l=0;e.length<g;){k=h.length==l?new flotr.Color(100,100,100):flotr.Color.parse(h[l]);var o=j%2==1?-1:1,p=1+o*Math.ceil(j/2)*.2;k.scale(p,p,p),e.push(k),++l>=h.length&&(l=0,++j)}for(l=0,m=0;l<f;++l){n=this.series[l],n.color==null?n.color=e[m++].toString():c.isNumber(n.color)&&(n.color=e[n.color].toString()),n.xaxis||(n.xaxis=this.axes.x),n.xaxis==1?n.xaxis=this.axes.x:n.xaxis==2&&(n.xaxis=this.axes.x2),n.yaxis||(n.yaxis=this.axes.y),n.yaxis==1?n.yaxis=this.axes.y:n.yaxis==2&&(n.yaxis=this.axes.y2);for(var q in flotr.graphTypes)n[q]=c.extend(c.clone(this.options[q]),n[q]);n.mouse=c.extend(c.clone(this.options.mouse),n.mouse),n.shadowSize==null&&(n.shadowSize=this.options.shadowSize)}},_setEl:function(a){if(!a)throw"The target container doesn't exist";if(!a.clientWidth)throw"The target container must be visible";this.el=a,this.el.graph&&this.el.graph.destroy(),this.el.graph=this}},Flotr.Graph=Graph}(),function(){function c(b){this.orientation=1,this.offset=0,this.stacks={},a.extend(this,b),this._setTranslations()}function d(a){return this.offset+this.orientation*(a-this.min)*this.scale}function e(a){return(this.offset+this.orientation*a)/this.scale+this.min}function f(a){return this.offset+this.orientation*(h(a,this.options.base)-h(this.min,this.options.base))*this.scale}function g(a){return j((this.offset+this.orientation*a)/this.scale+h(this.min,this.options.base),this.options.base)}function h(a,b){return a=Math.log(Math.max(a,Number.MIN_VALUE)),b!==Math.E&&(a/=Math.log(o.base)),a}function j(a,b){return b===Math.E?Math.exp(a):Math.pow(b,a)}var a=Flotr._,b="logarithmic";c.prototype={setScale:function(){var a=this.length;this.options.scaling==b?this.scale=a/(h(this.max,this.options.base)-h(this.min,this.options.base)):this.scale=a/(this.max-this.min)},getStack:function(b){var c=this.stacks;return a.isUndefined(c[b])?c[b]={}:c[b]},calculateTicks:function(){var a=this.options;this.ticks=[],this.minorTicks=[],a.ticks?(this._cleanUserTicks(a.ticks,this.ticks),this._cleanUserTicks(a.minorTicks||[],this.minorTicks)):a.mode=="time"?this._calculateTimeTicks():a.scaling==="logarithmic"?this._calculateLogTicks():this._calculateTicks()},calculateRange:function(){if(!this.used)return;var a=this,b=a.options,c=b.min!=null?b.min:a.datamin,d=b.max!=null?b.max:a.datamax,e=b.autoscaleMargin;b.scaling=="logarithmic"&&(c<=0&&(c=a.datamin),d<=0&&(d=c));if(d-c==0){var f=d==0?1:.01;c-=f,d+=f}if(b.scaling==="logarithmic"){c<0&&(c=d/b.base);var g=Math.log(d);b.base!=Math.E&&(g/=Math.log(b.base)),g=Math.ceil(g);var h=Math.log(c);b.base!=Math.E&&(h/=Math.log(b.base)),h=Math.ceil(h),a.tickSize=Flotr.getTickSize(b.noTicks,h,g,b.tickDecimals===null?0:b.tickDecimals),b.minorTickFreq===null&&(g-h>10?b.minorTickFreq=0:g-h>5?b.minorTickFreq=2:b.minorTickFreq=5)}else a.tickSize=Flotr.getTickSize(b.noTicks,c,d,b.tickDecimals);a.min=c,a.max=d,b.min==null&&b.autoscale&&(a.min-=a.tickSize*e,a.min<0&&a.datamin>=0&&(a.min=0),a.min=a.tickSize*Math.floor(a.min/a.tickSize)),b.max==null&&b.autoscale&&(a.max+=a.tickSize*e,a.max>0&&a.datamax<=0&&a.datamax!=a.datamin&&(a.max=0),a.max=a.tickSize*Math.ceil(a.max/a.tickSize)),a.min==a.max&&(a.max=a.min+1)},calculateTextDimensions:function(a,b){var c="",d,e;if(this.options.showLabels)for(e=0;e<this.ticks.length;++e)d=this.ticks[e].label.length,d>c.length&&(c=this.ticks[e].label);this.maxLabel=a.dimensions(c,{size:b.fontSize,angle:Flotr.toRad(this.options.labelsAngle)},"font-size:smaller;","flotr-grid-label"),this.titleSize=a.dimensions(this.options.title,{size:b.fontSize*1.2,angle:Flotr.toRad(this.options.titleAngle)},"font-weight:bold;","flotr-axis-title")},_cleanUserTicks:function(b,c){var d=this,e=this.options,f,g,h,i;a.isFunction(b)&&(b=b({min:d.min,max:d.max}));for(g=0;g<b.length;++g)i=b[g],typeof i=="object"?(f=i[0],h=i.length>1?i[1]:e.tickFormatter(f,{min:d.min,max:d.max})):(f=i,h=e.tickFormatter(f,{min:this.min,max:this.max})),c[g]={v:f,label:h}},_calculateTimeTicks:function(){var a=this,b=Flotr.Date.timeUnits,c=Flotr.Date.spec,d=(a.max-a.min)/a.options.noTicks,e,f,g;for(g=0;g<c.length-1;++g){var h=c[g][0]*b[c[g][1]];if(d<(h+c[g+1][0]*b[c[g+1][1]])/2&&h>=a.tickSize)break}e=c[g][0],f=c[g][1],f=="year"&&(e=Flotr.getTickSize(a.options.noTicks*b.year,a.min,a.max,0)),a.tickSize=e,a.tickUnit=f,a.ticks=Flotr.Date.generator(a)},_calculateLogTicks:function(){var a=this,b=a.options,c,d,e=Math.log(a.max);b.base!=Math.E&&(e/=Math.log(b.base)),e=Math.ceil(e);var f=Math.log(a.min);b.base!=Math.E&&(f/=Math.log(b.base)),f=Math.ceil(f);for(i=f;i<e;i+=a.tickSize){d=b.base==Math.E?Math.exp(i):Math.pow(b.base,i);var g=d*(b.base==Math.E?Math.exp(a.tickSize):Math.pow(b.base,a.tickSize)),h=(g-d)/b.minorTickFreq;a.ticks.push({v:d,label:b.tickFormatter(d,{min:a.min,max:a.max})});for(c=d+h;c<g;c+=h)a.minorTicks.push({v:c,label:b.tickFormatter(c,{min:a.min,max:a.max})})}d=b.base==Math.E?Math.exp(i):Math.pow(b.base,i),a.ticks.push({v:d,label:b.tickFormatter(d,{min:a.min,max:a.max})})},_calculateTicks:function(){var a=this,b=a.options,c=a.tickSize,d=a.min,e=a.max,f=c*Math.ceil(d/c),g,h,i,j,k,l;b.minorTickFreq&&(h=c/b.minorTickFreq);for(k=0;(i=j=f+k*c)<=e;++k){g=b.tickDecimals,g==null&&(g=1-Math.floor(Math.log(c)/Math.LN10)),g<0&&(g=0),i=i.toFixed(g),a.ticks.push({v:i,label:b.tickFormatter(i,{min:a.min,max:a.max})});if(b.minorTickFreq)for(l=0;l<b.minorTickFreq&&k*c+l*h<e;++l)i=(j+l*h).toFixed(g),a.minorTicks.push({v:i,label:b.tickFormatter(i,{min:a.min,max:a.max})})}},_setTranslations:function(a){this.d2p=a?f:d,this.p2d=a?g:e}},a.extend(c,{getAxes:function(a){return{x:new c({options:a.xaxis,n:1,length:this.plotWidth}),x2:new c({options:a.x2axis,n:2,length:this.plotWidth}),y:new c({options:a.yaxis,n:1,length:this.plotHeight,offset:this.plotHeight,orientation:-1}),y2:new c({options:a.y2axis,n:2,length:this.plotHeight,offset:this.plotHeight,orientation:-1})}}}),Flotr.Axis=c}(),function(){function b(b){a.extend(this,b)}var a=Flotr._;b.prototype={getRange:function(){var a=this.data,b=a.length,c=Number.MAX_VALUE,d=Number.MAX_VALUE,e=-Number.MAX_VALUE,f=-Number.MAX_VALUE,g,h,i,j,k;if(b<0||this.hide)return!1;for(k=0;k<b;k++)i=a[k][0],j=a[k][1],i<c&&(c=i,g=!0),i>e&&(e=i,g=!0),j<d&&(d=j,h=!0),j>f&&(f=j,h=!0);return{xmin:c,xmax:e,ymin:d,ymax:f,xused:g,yused:h}}},a.extend(b,{getSeries:function(c){return a.map(c,function(c){var d;return c.data?(d=new b,a.extend(d,c)):d=new b({data:c}),d})}}),Flotr.Series=b}(),Flotr.addType("lines",{options:{show:!1,lineWidth:2,fill:!1,fillColor:null,fillOpacity:.4,stacked:!1},draw:function(a){var b=this.ctx,c=a.lines.lineWidth,d=a.shadowSize,e;a=a||this.series,b.save(),b.translate(this.plotOffset.left,this.plotOffset.top),b.lineJoin="round",d&&(b.lineWidth=d/2,e=c/2+b.lineWidth/2,b.strokeStyle="rgba(0,0,0,0.1)",this.lines.plot(a,e+d/2,!1),b.strokeStyle="rgba(0,0,0,0.2)",this.lines.plot(a,e,!1)),b.lineWidth=c,b.strokeStyle=a.color,this.lines.plot(a,0,!0),b.restore()},getStack:function(a){var b=!1;return a.lines.stacked&&(b=a.xaxis.getStack("bars"),Flotr._.isEmpty(b)&&(b.values=[])),b},plot:function(a,b,c){var d=this.ctx,e=a.xaxis,f=a.yaxis,g=a.data,h=g.length-1,i=this.plotWidth,j=this.plotHeight,k=null,l=null,m=this.lines.getStack(a),n=f.d2p(0),o,p,q,r,s,t,u;if(h<1)return;d.beginPath();for(u=0;u<h;++u){if(g[u][1]===null||g[u+1][1]===null)continue;if(e.options.scaling==="logarithmic"&&(g[u][0]<=0||g[u+1][0]<=0))continue;if(f.options.scaling==="logarithmic"&&(g[u][1]<=0||g[u+1][1]<=0))continue;o=e.d2p(g[u][0]),p=e.d2p(g[u+1][0]),m?(s=m.values[g[u][0]]||0,t=m.values[g[u+1][0]]||m.values[g[u][0]]||0,q=f.d2p(g[u][1]+s),r=f.d2p(g[u+1][1]+t),c&&(m.values[g[u][0]]=g[u][1]+s,u==h-1&&(m.values[g[u+1][0]]=g[u+1][1]+t))):(q=f.d2p(g[u][1]),r=f.d2p(g[u+1][1]));if(q>=j&&r>=i||q<=0&&r<=0||o<=0&&p<=0||o>=i&&p>=i)continue;(k!=o||l!=q+b)&&d.moveTo(o,q+b),k=p,l=r+b,d.lineTo(k,l)}d.stroke(),!b&&a.lines.fill&&(d.fillStyle=this.processColor(a.lines.fillColor||a.color,{opacity:a.lines.fillOpacity}),d.lineTo(p,n),d.lineTo(e.d2p(g[0][0]),n),d.lineTo(e.d2p(g[0][0]),f.d2p(g[0][1])),d.fill()),d.closePath()},extendYRange:function(a){var b=a.options;if(!b.max&&b.max!==0||!b.min&&b.min!==0){var c=a.max,d=a.min,e,f,g,h,i,j={},k={},l=null;for(f=0;f<this.series.length;++f){h=this.series[f],i=h.lines;if(i.show&&!h.hide&&h.yaxis==a&&i.stacked){for(g=0;g<h.data.length;g++)e=h.data[g][0]+"",h.data[g][1]>0?j[e]=(j[e]||0)+h.data[g][1]:k[e]=(k[e]||0)+h.data[g][1],l=h;for(g in j)c=Math.max(j[g],c);for(g in k)d=Math.min(k[g],d)}}a.lastSerie=l,a.max=c,a.min=d}}}),Flotr.addType("bars",{options:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,fillOpacity:.4,horizontal:!1,stacked:!1,centered:!0},draw:function(a){var b=this.ctx,c=a.bars.barWidth,d=Math.min(a.bars.lineWidth,c);b.save(),b.translate(this.plotOffset.left,this.plotOffset.top),b.lineJoin="miter",b.lineWidth=d,b.strokeStyle=a.color;if(a.bars.fill){var e=a.bars.fillColor||a.color;b.fillStyle=this.processColor(e,{opacity:a.bars.fillOpacity})}this.bars.plot(a,c,0,a.bars.fill),b.restore()},getStack:function(a){var b=!1;return a.bars.stacked&&(b=(a.bars.horizontal?a.yaxis:a.xaxis).getStack("bars"),Flotr._.isEmpty(b)&&(b.positive=[],b.negative=[],b._positive=[],b._negative=[])),b},plot:function(a,b,c,d){if(a.data.length<1)return;var e=a.data,f=a.xaxis,g=a.yaxis,h=this.ctx,i=this.bars.getStack(a),j=this.options.shadowSize,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;for(z=0;z<e.length;z++){A=e[z][0],B=e[z][1];if(B===null)continue;n=0,o=0,i&&(a.bars.horizontal?(l=B,m=A):(l=A,m=B),n=i.positive[l]||0,o=i.negative[l]||0,m>0?i.positive[l]=n+m:i.negative[l]=o+m),k=a.bars.centered?b/2:0,a.bars.horizontal?(A>0?(v=n,w=A+n):(w=o,v=A+o),y=B-k,x=B+b-k):(B>0?(y=n,x=B+n):(x=o,y=B+o),v=A-k,w=A+b-k);if(w<f.min||v>f.max||x<g.min||y>g.max)continue;v<f.min&&(v=f.min),w>f.max&&(w=f.max),y<g.min&&(y=g.min),x>g.max&&(x=g.max),r=f.d2p(v),s=f.d2p(w),t=g.d2p(x),u=g.d2p(y),p=s-r,q=u-t,d&&h.fillRect(r,t,p,q),j&&(h.save(),h.fillStyle="rgba(0,0,0,0.05)",h.fillRect(r+j,t+j,p,q),h.restore()),a.bars.lineWidth!=0&&h.strokeRect(r,t,p,q)}},extendXRange:function(a){this.bars._extendRange(a)},extendYRange:function(a){this.bars._extendRange(a)},_extendRange:function(a){if(a.options.max==null){var b=a.min,c=a.max,d=a.orientation,e={},f={},g=null,h,i,j,k,l,m;for(j=0;j<this.series.length;++j){l=this.series[j],m=l.bars;if(m.show){(d==1&&!m.horizontal||d==-1&&m.horizontal)&&m.centered&&(c=Math.max(a.datamax+.5,c),b=Math.min(a.datamin-.5,b)),(d==1&&m.horizontal||d==-1&&!m.horizontal)&&m.barWidth+a.datamax>=c&&(c=a.max+(m.centered?m.barWidth/2:m.barWidth));if(m.stacked&&(d==1&&m.horizontal||d==-1&&!m.horizontal)){for(k=0;k<l.data.length;k++)m.show&&m.stacked&&(h=l.data[k][d==1?1:0]+"",i=d==1?0:1,l.data[k][i]>0?e[h]=(e[h]||0)+l.data[k][i]:f[h]=(f[h]||0)+l.data[k][i],g=l);for(k in e)c=Math.max(e[k],c);for(k in f)b=Math.min(f[k],b)}}}a.lastSerie=g,a.max=c,a.min=b}},drawHit:function(a){var b=this.octx,c=a.series,d=a.xaxis,e=a.yaxis,f,g,h,i;b.save(),b.translate(this.plotOffset.left,this.plotOffset.top),b.beginPath();if(c.mouse.trackAll)b.moveTo(d.d2p(a.x),e.d2p(0)),b.lineTo(d.d2p(a.x),e.d2p(a.yaxis.max));else{var j=c.bars.barWidth,k=e.d2p(a.y),l=d.d2p(a.x);c.bars.horizontal?(f=d.d2p(d.min<0?0:d.min),c.bars.centered?(h=e.d2p(a.y-j/2),i=e.d2p(a.y+j/2),b.moveTo(f,h),b.lineTo(l,h),b.lineTo(l,i),b.lineTo(f,i)):(i=e.d2p(a.y+j),b.moveTo(f,k),b.lineTo(l,k),b.lineTo(l,i),b.lineTo(f,i))):(h=e.d2p(e.min<0?0:e.min),c.bars.centered?(f=d.d2p(a.x-j/2),g=d.d2p(a.x+j/2),b.moveTo(f,h),b.lineTo(f,k),b.lineTo(g,k),b.lineTo(g,h)):(g=d.d2p(a.x+j),b.moveTo(l,h),b.lineTo(l,k),b.lineTo(g,k),b.lineTo(g,h))),c.mouse.fillColor&&b.fill()}b.stroke(),b.closePath(),b.restore()},clearHit:function(){var a=this.prevHit,b=this.plotOffset,c=a.series,d=a.xaxis,e=a.yaxis,f=c.bars.lineWidth,g=c.bars.barWidth;if(!c.bars.horizontal){var h=e.d2p(a.y>=0?a.y:0);c.bars.centered?this.octx.clearRect(d.d2p(a.x-g/2)+b.left-f,h+b.top-f,d.d2p(g+d.min)+f*2,e.d2p(a.y<0?a.y:0)-h+f*2):this.octx.clearRect(d.d2p(a.x)+b.left-f,h+b.top-f,d.d2p(g+d.min)+f*2,e.d2p(a.y<0?a.y:0)-h+f*2)}else{var i=d.d2p(a.x>=0?a.x:0);c.bars.centered?this.octx.clearRect(i+b.left+f,e.d2p(a.y+g/2)+b.top-f,d.d2p(a.x<0?a.x:0)-i-f*2,e.d2p(g+e.min)+f*2):this.octx.clearRect(i+b.left+f,e.d2p(a.y+g)+b.top-f,d.d2p(a.x<0?a.x:0)-i-f*2,e.d2p(g+e.min)+f*2)}}}),Flotr.addType("bubbles",{options:{show:!1,lineWidth:2,fill:!0,fillOpacity:.4,baseRadius:2},draw:function(a){var b=this.ctx,c=this.options;b.save(),b.translate(this.plotOffset.left,this.plotOffset.top),b.lineWidth=a.bubbles.lineWidth,b.fillStyle="rgba(0,0,0,0.05)",b.strokeStyle="rgba(0,0,0,0.05)",this.bubbles.plot(a,a.shadowSize/2),b.strokeStyle="rgba(0,0,0,0.1)",this.bubbles.plot(a,a.shadowSize/4),b.strokeStyle=a.color,b.fillStyle=this.processColor(a.color,{opacity:a.radar.fillOpacity}),this.bubbles.plot(a),b.restore()},plot:function(a,b){var c=this.ctx,d=this.options,e=a.data,f=d.bubbles.baseRadius;b=b||0;for(var g=0;g<e.length;++g){var h=e[g][0],i=e[g][1],j=e[g][2];c.beginPath(),c.arc(a.xaxis.d2p(h)+b,a.yaxis.d2p(i)+b,f*j,0,Math.PI*2,!0),c.stroke(),a.bubbles.fill&&c.fill(),c.closePath()}},drawHit:function(a){var b=this.octx,c=a.series,d=a.xaxis,e=a.yaxis,f=c.data[0][2],g=this.options.bubbles.baseRadius;b.save(),b.lineWidth=c.points.lineWidth,b.strokeStyle=c.mouse.lineColor,b.fillStyle=this.processColor(c.mouse.fillColor||"#ffffff",{opacity:c.mouse.fillOpacity}),b.translate(this.plotOffset.left,this.plotOffset.top),b.beginPath(),b.arc(d.d2p(a.x),e.d2p(a.y),f*g,0,2*Math.PI,!0),b.fill(),b.stroke(),b.closePath(),b.restore()},clearHit:function(){var a=this.prevHit,b=this.plotOffset,c=a.series,d=c.bars.lineWidth,e=a.xaxis,f=a.yaxis,g=c.data[0][2],h=this.options.bubbles.baseRadius,i=g*h+d;this.octx.clearRect(b.left+e.d2p(a.x)-i,b.top+f.d2p(a.y)-i,i*2,i*2)}}),Flotr.addType("candles",{options:{show:!1,lineWidth:1,wickLineWidth:1,candleWidth:.6,fill:!0,upFillColor:"#00A8F0",downFillColor:"#CB4B4B",fillOpacity:.5,barcharts:!1},draw:function(a){var b=this.ctx,c=a.candles.candleWidth;b.save(),b.translate(this.plotOffset.left,this.plotOffset.top),b.lineJoin="miter",b.lineWidth=a.candles.lineWidth,this.candles.plotShadows(a,c/2),this.candles.plot(a,c/2),b.restore()},plot:function(a,b){var c=a.data;if(c.length<1)return;var d=a.xaxis,e=a.yaxis,f=this.ctx;for(var g=0;g<c.length;g++){var h=c[g],i=h[0],j=h[1],k=h[2],l=h[3],m=h[4],n=i-a.candles.candleWidth/2,o=i+a.candles.candleWidth/2,p=Math.max(e.min,l),q=Math.min(e.max,k),r=Math.max(e.min,Math.min(j,m)),s=Math.min(e.max,Math.max(j,m));if(o<d.min||n>d.max||q<e.min||p>e.max)continue;var t=a.candles[j>m?"downFillColor":"upFillColor"];a.candles.fill&&!a.candles.barcharts&&(f.fillStyle=this.processColor(t,{opacity:a.candles.fillOpacity}),f.fillRect(d.d2p(n),e.d2p(s)+b,d.d2p(o)-d.d2p(n),e.d2p(r)-e.d2p(s)));if(a.candles.lineWidth||a.candles.wickLineWidth){var i,u,v=a.candles.wickLineWidth%2/2;i=Math.floor(d.d2p((n+o)/2))+v,f.save(),f.strokeStyle=t,f.lineWidth=a.candles.wickLineWidth,f.lineCap="butt",a.candles.barcharts?(f.beginPath(),f.moveTo(i,Math.floor(e.d2p(q)+b)),f.lineTo(i,Math.floor(e.d2p(p)+b)),u=Math.floor(e.d2p(j)+b)+.5,f.moveTo(Math.floor(d.d2p(n))+v,u),f.lineTo(i,u),u=Math.floor(e.d2p(m)+b)+.5,f.moveTo(Math.floor(d.d2p(o))+v,u),f.lineTo(i,u)):(f.strokeRect(d.d2p(n),e.d2p(s)+b,d.d2p(o)-d.d2p(n),e.d2p(r)-e.d2p(s)),f.beginPath(),f.moveTo(i,Math.floor(e.d2p(s)+b)),f.lineTo(i,Math.floor(e.d2p(q)+b)),f.moveTo(i,Math.floor(e.d2p(r)+b)),f.lineTo(i,Math.floor(e.d2p(p)+b))),f.stroke(),f.closePath(),f.restore()}}},plotShadows:function(a,b){var c=a.data;if(c.length<1||a.candles.barcharts)return;var d=a.xaxis,e=a.yaxis,f=this.options.shadowSize;for(var g=0;g<c.length;g++){var h=c[g],i=h[0],j=h[1],k=h[2],l=h[3],m=h[4],n=i-a.candles.candleWidth/2,o=i+a.candles.candleWidth/2,p=Math.max(e.min,Math.min(j,m)),q=Math.min(e.max,Math.max(j,m));if(o<d.min||n>d.max||q<e.min||p>e.max)continue;var r=d.d2p(o)-d.d2p(n)-(d.d2p(o)+f<=this.plotWidth?0:f),s=Math.max(0,e.d2p(p)-e.d2p(q)-(e.d2p(p)+f<=this.plotHeight?0:f));this.ctx.fillStyle="rgba(0,0,0,0.05)",this.ctx.fillRect(Math.min(d.d2p(n)+f,this.plotWidth),Math.min(e.d2p(q)+f,this.plotWidth),r,s)}},extendXRange:function(a){if(a.options.max==null){var b=a.min,c=a.max,d,e;for(d=0;d<this.series.length;++d)e=this.series[d].candles,e.show&&this.series[d].xaxis==a&&(c=Math.max(a.datamax+.5,c),b=Math.min(a.datamin-.5,b));a.max=c,a.min=b}}}),Flotr.addType("gantt",{options:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,fillOpacity:.4,centered:!0},draw:function(a){var b=this.ctx,c=a.gantt.barWidth,d=Math.min(a.gantt.lineWidth,c);b.save(),b.translate(this.plotOffset.left,this.plotOffset.top),b.lineJoin="miter",b.lineWidth=d,b.strokeStyle=a.color,b.save(),this.gantt.plotShadows(a,c,0,a.gantt.fill),b.restore();if(a.gantt.fill){var e=a.gantt.fillColor||a.color;b.fillStyle=this.processColor(e,{opacity:a.gantt.fillOpacity})}this.gantt.plot(a,c,0,a.gantt.fill),b.restore()},plot:function(a,b,c,d){var e=a.data;if(e.length<1)return;var f=a.xaxis,g=a.yaxis,h=this.ctx,i;for(i=0;i<e.length;i++){var j=e[i][0],k=e[i][1],l=e[i][2],m=!0,n=!0,o=!0;if(k===null||l===null)continue;var p=k,q=k+l,r=j-(a.gantt.centered?b/2:0),s=j+b-(a.gantt.centered?b/2:0);if(q<f.min||p>f.max||s<g.min||r>g.max)continue;p<f.min&&(p=f.min,m=!1),q>f.max&&(q=f.max,f.lastSerie!=a&&(n=!1)),r<g.min&&(r=g.min),s>g.max&&(s=g.max,g.lastSerie!=a&&(n=!1)),d&&(h.beginPath(),h.moveTo(f.d2p(p),g.d2p(r)+c),h.lineTo(f.d2p(p),g.d2p(s)+c),h.lineTo(f.d2p(q),g.d2p(s)+c),h.lineTo(f.d2p(q),g.d2p(r)+c),h.fill(),h.closePath()),a.gantt.lineWidth!=0&&(m||o||n)&&(h.beginPath(),h.moveTo(f.d2p(p),g.d2p(r)+c),h[m?"lineTo":"moveTo"](f.d2p(p),g.d2p(s)+c),h[n?"lineTo":"moveTo"](f.d2p(q),g.d2p(s)+c),h[o?"lineTo":"moveTo"](f.d2p(q),g.d2p(r)+c),h.stroke(),h.closePath())}},plotShadows:function(a,b,c){var d=a.data;if(d.length<1)return;var e,f,g,h,i=a.xaxis,j=a.yaxis,k=this.ctx,l=this.options.shadowSize;for(e=0;e<d.length;e++){f=d[e][0],g=d[e][1],h=d[e][2];if(g===null||h===null)continue;var m=g,n=g+h,o=f-(a.gantt.centered?b/2:0),p=f+b-(a.gantt.centered?b/2:0);if(n<i.min||m>i.max||p<j.min||o>j.max)continue;m<i.min&&(m=i.min),n>i.max&&(n=i.max),o<j.min&&(o=j.min),p>j.max&&(p=j.max);var q=i.d2p(n)-i.d2p(m)-(i.d2p(n)+l<=this.plotWidth?0:l),r=j.d2p(o)-j.d2p(p)-(j.d2p(o)+l<=this.plotHeight?0:l);k.fillStyle="rgba(0,0,0,0.05)",k.fillRect(Math.min(i.d2p(m)+l,this.plotWidth),Math.min(j.d2p(p)+l,this.plotHeight),q,r)}},extendXRange:function(a){if(a.options.max==null){var b=a.min,c=a.max,d,e,f,g,h,i={},j={},k=null;for(d=0;d<this.series.length;++d){g=this.series[d],h=g.gantt;if(h.show&&g.xaxis==a){for(e=0;e<g.data.length;e++)h.show&&(y=g.data[e][0]+"",i[y]=Math.max(i[y]||0,g.data[e][1]+g.data[e][2]),k=g);for(e in i)c=Math.max(i[e],c)}}a.lastSerie=k,a.max=c,a.min=b}},extendYRange:function(a){if(a.options.max==null){var b=Number.MIN_VALUE,c=Number.MAX_VALUE,d,e,f,g,h={},i={},j=null;for(d=0;d<this.series.length;++d){f=this.series[d],g=f.gantt;if(g.show&&!f.hide&&f.yaxis==a){var k=Number.MIN_VALUE,l=Number.MAX_VALUE;for(e=0;e<f.data.length;e++)k=Math.max(k,f.data[e][0]),l=Math.min(l,f.data[e][0]);g.centered?(b=Math.max(k+.5,b),c=Math.min(l-.5,c)):(b=Math.max(k+1,b),c=Math.min(l,c)),g.barWidth+k>b&&(b=a.max+g.barWidth)}}a.lastSerie=j,a.max=b,a.min=c,a.tickSize=Flotr.getTickSize(a.options.noTicks,c,b,a.options.tickDecimals)}}}),function(){function a(a){return typeof a=="object"&&a.constructor&&(Image?!0:a.constructor===Image)}Flotr.defaultMarkerFormatter=function(a){return Math.round(a.y*100)/100+""},Flotr.addType("markers",{options:{show:!1,lineWidth:1,color:"#000000",fill:!1,fillColor:"#FFFFFF",fillOpacity:.4,stroke:!1,position:"ct",labelFormatter:Flotr.defaultMarkerFormatter,fontSize:Flotr.defaultOptions.fontSize,stacked:!1,stackingType:"b",horizontal:!1},getStack:function(a){var b=!1;return a.bars.stacked&&(b=(a.bars.horizontal?a.yaxis:a.xaxis).getStack("bars"),Flotr._.isEmpty(b)&&(b.positive=[],b.negative=[],b.values=[])),b},draw:function(a){a=a||this.series;var b=this.ctx,c=a.xaxis,d=a.yaxis,e=a.markers,f=this.markers.getStack(a),g=a.data;b.save(),b.translate(this.plotOffset.left,this.plotOffset.top),b.lineJoin="round",b.lineWidth=e.lineWidth,b.strokeStyle="rgba(0,0,0,0.5)",b.fillStyle=this.processColor(e.fillColor,{opacity:e.fillOpacity});for(var h=0;h<g.length;++h){var i=g[h][0],j=g[h][1],k;if(f)if(a.markers.stackingType=="b"){var l=0,m=0;a.markers.horizontal?(l=f.positive[j]||0,m=f.negative[j]||0,i>0?(f.positive[j]=l+i,i=l+i):(f.negative[j]=m+i,i=m+i)):(l=f.negative[i]||0,m=f.positive[i]||0,j>0?(f.positive[i]=l+j,j=l+j):(f.negative[i]=m+j,j=m+j))}else if(a.markers.stackingType=="a"){var n=f.values[i]||0;f.values[i]=n+j,j=n+j}var o=c.d2p(i),p=d.d2p(j);k=e.labelFormatter({x:i,y:j,index:h,data:g}),this.markers.plot(o,p,k,e)}b.restore()},plot:function(b,c,d,e){a(d)&&!d.complete?Flotr.EventAdapter.observe(d,"load",Flotr._.bind(function(){var a=this.ctx;a.save(),a.translate(this.plotOffset.left,this.plotOffset.top),this.markers._plot(b,c,d,e),a.restore()},this)):this.markers._plot(b,c,d,e)},_plot:function(b,c,d,e){var f=this.ctx,g=2,h=b,i=c,j;a(d)?j={height:d.height,width:d.width}:j=this._text.canvas(d),j.width=Math.floor(j.width+g*2),j.height=Math.floor(j.height+g*2),e.position.indexOf("c")!=-1?h-=j.width/2+g:e.position.indexOf("l")!=-1&&(h-=j.width),e.position.indexOf("m")!=-1?i-=j.height/2+g:e.position.indexOf("t")!=-1&&(i-=j.height),h=Math.floor(h)+.5,i=Math.floor(i)+.5,e.fill&&f.fillRect(h,i,j.width,j.height),e.stroke&&f.strokeRect(h,i,j.width,j.height),a(d)?f.drawImage(d,h+g,i+g):Flotr.drawText(f,d,h+g,i+g,{textBaseline:"top",textAlign:"left",size:e.fontSize,color:e.color})}})}(),function(){var a=Flotr._;Flotr.defaultPieLabelFormatter=function(a){return(a.fraction*100).toFixed(2)+"%"},Flotr.addType("pie",{options:{show:!1,lineWidth:1,fill:!0,fillColor:null,fillOpacity:.6,explode:6,sizeRatio:.6,startAngle:Math.PI/4,labelFormatter:Flotr.defaultPieLabelFormatter,pie3D:!1,pie3DviewAngle:Math.PI/2*.8,pie3DspliceThickness:20},draw:function(b){if(this.options.pie.drawn)return;var c=this.ctx,d=this.options,e=b.pie.lineWidth,f=b.shadowSize,g=b.data,h=this.plotOffset,i=Math.min(this.canvasWidth,this.canvasHeight)*b.pie.sizeRatio/2,j=[],k=1,l=Math.sin(b.pie.viewAngle)*b.pie.spliceThickness/k,m={size:d.fontSize*1.2,color:d.grid.color,weight:1.5},n={x:h.left+this.plotWidth/2,y:h.top+this.plotHeight/2},o=this.pie._getPortions(),p=this.pie._getSlices(o,b);c.save(),f>0&&a.each(p,function(a){if(a.startAngle==a.endAngle)return;var d=(a.startAngle+a.endAngle)/2,e=n.x+Math.cos(d)*a.options.explode+f,g=n.y+Math.sin(d)*a.options.explode+f;this.pie.plotSlice(e,g,i,a.startAngle,a.endAngle,!1,k),b.pie.fill&&(c.fillStyle="rgba(0,0,0,0.1)",c.fill())},this);if(d.HtmlText||!this.textEnabled)j=[];a.each(p,function(a,f){if(a.startAngle==a.endAngle)return;var g=(a.startAngle+a.endAngle)/2,h=a.series.color,l=a.options.fillColor||h,o=n.x+Math.cos(g)*a.options.explode,p=n.y+Math.sin(g)*a.options.explode;this.pie.plotSlice(o,p,i,a.startAngle,a.endAngle,!1,k),b.pie.fill&&(c.fillStyle=this.processColor(l,{opacity:b.pie.fillOpacity}),c.fill()),c.lineWidth=e,c.strokeStyle=h,c.stroke();var q=d.pie.labelFormatter(a),r=Math.cos(g)<0,s=Math.sin(g)>0,t=(a.options.explode||b.pie.explode)+i+4,u=n.x+Math.cos(g)*t,v=n.y+Math.sin(g)*t;if(a.fraction&&q)if(d.HtmlText||!this.textEnabled){var w=s?v-5:this.plotHeight-v+5,x="position:absolute;"+(s?"top":"bottom")+":"+w+"px;";r?x+="right:"+(this.canvasWidth-u)+"px;text-align:right;":x+="left:"+u+"px;text-align:left;",j.push('<div style="',x,'" class="flotr-grid-label">',q,"</div>")}else m.textAlign=r?"right":"left",m.textBaseline=s?"top":"bottom",Flotr.drawText(c,q,u,v,m)},this);if(d.HtmlText||!this.textEnabled){var q=Flotr.DOM.node('<div style="color:'+this.options.grid.color+'" class="flotr-labels"></div>');Flotr.DOM.insert(q,j.join("")),Flotr.DOM.insert(this.el,q)}c.restore(),d.pie.drawn=!0},plotSlice:function(a,b,c,d,e,f,g){var h=this.ctx;g=g||1,h.scale(1,g),h.beginPath(),h.moveTo(a,b),h.arc(a,b,c,d,e,f),h.lineTo(a,b),h.closePath()},hit:function(a,b){function m(a){return a>0?a:a+2*Math.PI}var c=this.series,d=this.options,e=Math.min(this.canvasWidth,this.canvasHeight)*d.pie.sizeRatio/2,f=1,g=d.pie.startAngle,h,j,k,l;h={x:this.plotWidth/2,y:this.plotHeight/2},portions=this.pie._getPortions(),slices=this.pie._getSlices(portions,c,g);for(i=0;i<c.length;i++){j=c[i],k=j.data[0][0],l=j.data[0][1];if(l===null)continue;var n=a.relX-h.x,o=a.relY-h.y,p=Math.sqrt(Math.pow(n,2)+Math.pow(o,2)),q=m(slices[i].startAngle%(2*Math.PI)),r=m(slices[i].endAngle%(2*Math.PI)),s=o/p,t=m(Math.asin(s)%(2*Math.PI)),u=Math.asin(-s)+Math.PI;p<e+10&&(n>0&&q<t&&r>t||n<0&&q<u&&r>u||(q>r||slices[i].fraction==1)&&(n>0&&(q<t||r>t)||n<0&&(q<u||r>u)))&&(b.x=k,b.y=l,b.sAngle=q,b.eAngle=r,b.mouse=j.mouse,b.series=j,b.allSeries=c,b.seriesIndex=i,b.fraction=slices[i].fraction)}},drawHit:function(a){var b=this.octx,c=a.series,d=a.xaxis,e=a.yaxis;b.save(),b.translate(this.plotOffset.left,this.plotOffset.top),b.beginPath();if(c.mouse.trackAll)b.moveTo(d.d2p(a.x),e.d2p(0)),b.lineTo(d.d2p(a.x),e.d2p(a.yaxis.max));else{var f={x:this.plotWidth/2,y:this.plotHeight/2},g=Math.min(this.canvasWidth,this.canvasHeight)*c.pie.sizeRatio/2,h=a.sAngle<a.eAngle?(a.sAngle+a.eAngle)/2:(a.sAngle+a.eAngle+2*Math.PI)/2,i=f.x+Math.cos(h)*a.series.pie.explode,j=f.y+Math.sin(h)*a.series.pie.explode;b.beginPath(),b.moveTo(i,j),a.fraction!=1?b.arc(i,j,g,a.sAngle,a.eAngle,!1):b.arc(i,j,g,a.sAngle,a.eAngle-1e-5,!1),b.lineTo(i,j),b.closePath()}b.stroke(),b.closePath(),b.restore()},clearHit:function(){var a={x:this.plotOffset.left+this.plotWidth/2,y:this.plotOffset.top+this.plotHeight/2},b=this.prevHit.series.pie,c=Math.min(this.canvasWidth,this.canvasHeight)*b.sizeRatio/2,d=(b.explode+b.lineWidth)*4;this.octx.clearRect(a.x-c-d,a.y-c-d,2*(c+d),2*(c+d))},_getPortions:function(){return a.map(this.series,function(a,b){if(a.pie.show&&a.data[0][1]!==null)return{name:a.label||a.data[0][1],value:[b,a.data[0][1]],options:a.pie,series:a}})},_getSum:function(b){return a.inject(a.pluck(a.pluck(b,"value"),1),function(a,b){return a+b},0)},_getSlices:function(b,c,d){var e=this.pie._getSum(b),f=0,g=a.isUndefined(d)?c.pie.startAngle:d,h=0;return a.map(b,function(a){return g+=f,h=parseFloat(a.value[1]),f=h/e,{name:a.name,fraction:f,x:a.value[0],y:h,value:h,options:a.options,series:a.series,startAngle:2*g*Math.PI,endAngle:2*(g+f)*Math.PI}})}})}(),Flotr.addType("points",{options:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#FFFFFF",fillOpacity:.4},draw:function(a){var b=this.ctx,c=a.lines.lineWidth,d=a.shadowSize;b.save(),b.translate(this.plotOffset.left,this.plotOffset.top),d>0&&(b.lineWidth=d/2,b.strokeStyle="rgba(0,0,0,0.1)",this.points.plotShadows(a,d/2+b.lineWidth/2,a.points.radius),b.strokeStyle="rgba(0,0,0,0.2)",this.points.plotShadows(a,b.lineWidth/2,a.points.radius)),b.lineWidth=a.points.lineWidth,b.strokeStyle=a.color,b.fillStyle=a.points.fillColor?a.points.fillColor:a.color,this.points.plot(a,a.points.radius,a.points.fill),b.restore()},plot:function(a,b,c){var d=a.xaxis,e=a.yaxis,f=this.ctx,g=a.data,h,i,j;for(h=g.length-1;h>-1;--h){i=g[h][0],j=g[h][1];if(j===null||i<d.min||i>d.max||j<e.min||j>e.max)continue;f.beginPath(),f.arc(d.d2p(i),e.d2p(j),b,0,2*Math.PI,!0),c&&f.fill(),f.stroke(),f.closePath()}},plotShadows:function(a,b,c){var d=a.xaxis,e=a.yaxis,f=this.ctx,g=a.data,h,i,j;for(h=g.length-1;h>-1;--h){i=g[h][0],j=g[h][1];if(j===null||i<d.min||i>d.max||j<e.min||j>e.max)continue;f.beginPath(),f.arc(d.d2p(i),e.d2p(j)+b,c,0,Math.PI,!1),f.stroke(),f.closePath()}},getHit:function(a,b){var c,d,e,f,g,h,i,j=a.points,k=a.data,l=a.mouse.sensibility*(j.lineWidth+j.radius),m={index:null,series:a,distance:Number.MAX_VALUE,x:null,y:null,precision:1};for(e=k.length-1;e>-1;--e)f=k[e],h=a.xaxis.d2p(f[0]),i=a.yaxis.d2p(f[1]),c=h-b.relX,d=i-b.relY,g=Math.sqrt(c*c+d*d),g<l&&g<m.distance&&(m={index:e,series:a,distance:g,data:f,x:h,y:i,precision:1});return m},drawHit:function(a,b){},clearHit:function(a,b){}}),Flotr.addType("radar",{options:{show:!1,lineWidth:2,fill:!0,fillOpacity:.4,radiusRatio:.9},draw:function(a){var b=this.ctx,c=this.options;b.save(),b.translate(this.plotOffset.left+this.plotWidth/2,this.plotOffset.top+this.plotHeight/2),b.lineWidth=a.radar.lineWidth,b.fillStyle="rgba(0,0,0,0.05)",b.strokeStyle="rgba(0,0,0,0.05)",this.radar.plot(a,a.shadowSize/2),b.strokeStyle="rgba(0,0,0,0.1)",this.radar.plot(a,a.shadowSize/4),b.strokeStyle=a.color,b.fillStyle=this.processColor(a.color,{opacity:a.radar.fillOpacity}),this.radar.plot(a),b.restore()},plot:function(a,b){var c=this.ctx,d=this.options,e=a.data,f=Math.min(this.plotHeight,this.plotWidth)*d.radar.radiusRatio/2,g=2*(Math.PI/e.length),h=-Math.PI/2;b=b||0,c.beginPath();for(var i=0;i<e.length;++i){var j=e[i][0],k=e[i][1],l=k/this.axes.y.max;c[i==0?"moveTo":"lineTo"](Math.cos(i*g+h)*f*l+b,Math.sin(i*g+h)*f*l+b)}c.closePath(),a.radar.fill&&c.fill(),c.stroke()}}),Flotr.addType("timeline",{options:{show:!1,lineWidth:1,barWidth:.2,fill:!0,fillColor:null,fillOpacity:.4,centered:!0},draw:function(a){var b=this.ctx,c=a.timeline.barWidth,d=a.timeline.lineWidth,e=a.color,f=a.timeline.fillColor||e,g=a.timeline.fillOpacity;b.save(),b.translate(this.plotOffset.left,this.plotOffset.top),b.lineJoin="miter",b.lineWidth=d,b.strokeStyle=e,b.fillStyle=this.processColor(f,{opacity:g}),this.timeline.plot(a,c,d),b.restore()},plot:function(a,b,c){var d=a.data,e=a.xaxis,f=a.yaxis,g=this.ctx,h;Flotr._.each(d,function(a){var d=a[0],h=a[1],i=a[2],j=b,k=Math.ceil(e.d2p(d)),l=Math.ceil(e.d2p(d+i))-k,m=Math.round(f.d2p(h)),n=Math.round(f.d2p(h-j))-m,o=k-c/2,p=Math.round(m-n/2)-c/2;g.strokeRect(o,p,l,n),g.fillRect(o,p,l,n)},this)},extendRange:function(a){var b=a.data,c=a.xaxis,d=a.yaxis,e=a.timeline.barWidth;c.options.min==null&&(c.min=c.datamin-e/2);if(c.options.max==null){var f=c.max;Flotr._.each(b,function(a){f=Math.max(f,a[0]+a[2])},this),c.max=f+e/2}d.options.min==null&&(d.min=d.datamin-e),d.options.min==null&&(d.max=d.datamax+e)}}),function(){var a=Flotr.DOM;Flotr.addPlugin("crosshair",{options:{mode:null,color:"#FF0000",hideCursor:!0},callbacks:{"flotr:mousemove":function(a,b){this.options.crosshair.mode&&this.crosshair.clearCrosshair(),this.options.crosshair.mode&&this.crosshair.drawCrosshair(b)}},drawCrosshair:function(b){var c=this.octx,d=this.options.crosshair,e=this.plotOffset,f=e.left+b.relX+.5,g=e.top+b.relY+.5;if(b.relX<0||b.relY<0||b.relX>this.plotWidth||b.relY>this.plotHeight){this.el.style.cursor=null,a.removeClass(this.el,"flotr-crosshair");return}this.lastMousePos.relX=null,this.lastMousePos.relY=null,d.hideCursor&&(this.el.style.cursor="none",a.addClass(this.el,"flotr-crosshair")),c.save(),c.strokeStyle=d.color,c.lineWidth=1,c.beginPath(),d.mode.indexOf("x")!=-1&&(c.moveTo(f,e.top),c.lineTo(f,e.top+this.plotHeight),this.lastMousePos.relX=f),d.mode.indexOf("y")!=-1&&(c.moveTo(e.left,g),c.lineTo(e.left+this.plotWidth,g),this.lastMousePos.relY=g),c.stroke(),c.restore()},clearCrosshair:function(){this.lastMousePos.relX!=null&&this.octx.clearRect(this.lastMousePos.relX-.5,this.plotOffset.top,1,this.plotHeight+1),this.lastMousePos.relY!=null&&this.octx.clearRect(this.plotOffset.left,this.lastMousePos.relY-.5,this.plotWidth+1,1)}})}(),function(){var a=Flotr.DOM,b=Flotr._;Flotr.addPlugin("download",{saveImage:function(c,d,e,f){var g=null;if(Flotr.isIE&&Flotr.isIE<9)return g="<html><body>"+this.canvas.firstChild.innerHTML+"</body></html>",window.open().document.write(g);switch(c){case"jpeg":case"jpg":g=Canvas2Image.saveAsJPEG(this.canvas,f,d,e);break;default:case"png":g=Canvas2Image.saveAsPNG(this.canvas,f,d,e);break;case"bmp":g=Canvas2Image.saveAsBMP(this.canvas,f,d,e)}b.isElement(g)&&f&&(this.download.restoreCanvas(),a.hide(this.canvas),a.hide(this.overlay),a.setStyles({position:"absolute"}),a.insert(this.el,g),this.saveImageElement=g)},restoreCanvas:function(){a.show(this.canvas),a.show(this.overlay),this.saveImageElement&&this.el.removeChild(this.saveImageElement),this.saveImageElement=null}})}(),function(){var a=Flotr.EventAdapter,b=Flotr._;Flotr.addPlugin("graphGrid",{callbacks:{"flotr:beforedraw":function(){this.graphGrid.drawGrid()},"flotr:afterdraw":function(){this.graphGrid.drawOutline()}},drawGrid:function(){var c,d=this.options,e=this.ctx,f;(d.grid.verticalLines||d.grid.minorVerticalLines||d.grid.horizontalLines||d.grid.minorHorizontalLines)&&a.fire(this.el,"flotr:beforegrid",[this.axes.x,this.axes.y,d,this]),e.save(),e.lineWidth=1,e.strokeStyle=d.grid.tickColor;if(d.grid.circular){e.translate(this.plotOffset.left+this.plotWidth/2,this.plotOffset.top+this.plotHeight/2);var g=Math.min(this.plotHeight,this.plotWidth)*d.radar.radiusRatio/2,h=this.axes.x.ticks.length,i=2*(Math.PI/h),j=-Math.PI/2;e.beginPath();if(d.grid.horizontalLines){f=this.axes.y;for(var k=0;k<f.ticks.length;++k){c=f.ticks[k].v;var l=c/f.max;for(var m=0;m<=h;++m)e[m==0?"moveTo":"lineTo"](Math.cos(m*i+j)*g*l,Math.sin(m*i+j)*g*l)}}d.grid.minorHorizontalLines&&(f=this.axes.y,b.each(b.pluck(f.minorTicks,"v"),function(a){var b=a/f.max;for(var c=0;c<=h;++c)e[c==0?"moveTo":"lineTo"](Math.cos(c*i+j)*g*b,Math.sin(c*i+j)*g*b)})),d.grid.verticalLines&&b.times(h,function(a){e.moveTo(0,0),e.lineTo(Math.cos(a*i+j)*g,Math.sin(a*i+j)*g)}),e.stroke()}else e.translate(this.plotOffset.left,this.plotOffset.top),d.grid.backgroundColor!=null&&(e.fillStyle=this.processColor(d.grid.backgroundColor,{x1:0,y1:0,x2:this.plotWidth,y2:this.plotHeight}),e.fillRect(0,0,this.plotWidth,this.plotHeight)),e.beginPath(),d.grid.verticalLines&&(f=this.axes.x,b.each(b.pluck(f.ticks,"v"),function(a){if(a<=f.min||a>=f.max||(a==f.min||a==f.max)&&d.grid.outlineWidth!=0)return;e.moveTo(Math.floor(f.d2p(a))+e.lineWidth/2,0),e.lineTo(Math.floor(f.d2p(a))+e.lineWidth/2,this.plotHeight)},this)),d.grid.minorVerticalLines&&(f=this.axes.x,b.each(b.pluck(f.minorTicks,"v"),function(a){if(a<=f.min||a>=f.max||(a==f.min||a==f.max)&&d.grid.outlineWidth!=0)return;e.moveTo(Math.floor(f.d2p(a))+e.lineWidth/2,0),e.lineTo(Math.floor(f.d2p(a))+e.lineWidth/2,this.plotHeight)},this)),d.grid.horizontalLines&&(f=this.axes.y,b.each(b.pluck(f.ticks,"v"),function(a){if(a<=f.min||a>=f.max||(a==f.min||a==f.max)&&d.grid.outlineWidth!=0)return;e.moveTo(0,Math.floor(f.d2p(a))+e.lineWidth/2),e.lineTo(this.plotWidth,Math.floor(f.d2p(a))+e.lineWidth/2)},this)),d.grid.minorHorizontalLines&&(f=this.axes.y,b.each(b.pluck(f.ticks,"v"),function(a){if(a<=f.min||a>=f.max||(a==f.min||a==f.max)&&d.grid.outlineWidth!=0)return;e.moveTo(0,Math.floor(f.d2p(a))+e.lineWidth/2),e.lineTo(this.plotWidth,Math.floor(f.d2p(a))+e.lineWidth/2)},this)),e.stroke();e.restore(),(d.grid.verticalLines||d.grid.minorVerticalLines||d.grid.horizontalLines||d.grid.minorHorizontalLines)&&a.fire(this.el,"flotr:aftergrid",[this.axes.x,this.axes.y,d,this])},drawOutline:function(){var a,b=this.options,c=this.ctx;if(b.grid.outlineWidth==0)return;c.save();if(b.grid.circular){c.translate(this.plotOffset.left+this.plotWidth/2,this.plotOffset.top+this.plotHeight/2);var d=Math.min(this.plotHeight,this.plotWidth)*b.radar.radiusRatio/2,e=this.axes.x.ticks.length,f=2*(Math.PI/e),g=-Math.PI/2;c.beginPath(),c.lineWidth=b.grid.outlineWidth,c.strokeStyle=b.grid.color,c.lineJoin="round";for(var h=0;h<=e;++h)c[h==0?"moveTo":"lineTo"](Math.cos(h*f+g)*d,Math.sin(h*f+g)*d);c.stroke()}else{c.translate(this.plotOffset.left,this.plotOffset.top);var i=b.grid.outlineWidth,j=.5-i+(i+1)%2/2;c.lineWidth=i,c.strokeStyle=b.grid.color,c.lineJoin="miter",c.strokeRect(j,j,this.plotWidth,this.plotHeight)}c.restore()}})}(),function(){var a=Flotr.DOM,b=Flotr._;Flotr.addPlugin("hit",{callbacks:{"flotr:mousemove":function(a,c){(this.options.mouse.track||b.any(this.series,function(a){return a.mouse&&a.mouse.track}))&&this.hit.hit(c)},mouseout:function(){this.hit.clearHit()}},executeOnType:function(a,c,d){function f(a){b.each(b.keys(flotr.graphTypes),function(f){if(a[f]&&a[f].show)try{b.isUndefined(d)?this[f][c].apply(this[f]):this[f][c].apply(this[f],d),e=!0}catch(g){}},this)}var e=!1;return b.isArray(a)||(a=[a]),b.each(a,f,this),e},drawHit:function(a){var b=this.octx,c=a.series;if(c.mouse.lineColor!=null){b.save(),b.lineWidth=c.points?c.points.lineWidth:1,b.strokeStyle=c.mouse.lineColor,b.fillStyle=this.processColor(c.mouse.fillColor||"#ffffff",{opacity:c.mouse.fillOpacity});if(!this.hit.executeOnType(c,"drawHit",[a])){var d=a.xaxis,e=a.yaxis;b.translate(this.plotOffset.left,this.plotOffset.top),b.beginPath(),b.arc(d.d2p(a.x),e.d2p(a.y),c.mouse.radius,0,2*Math.PI,!0),b.fill(),b.stroke(),b.closePath()}b.restore()}this.prevHit=a},clearHit:function(){var b=this.prevHit;if(b&&!this.hit.executeOnType(b.series,"clearHit")){var c=this.plotOffset,d=b.series,e=d.bars?d.bars.lineWidth:1,f=d.mouse.radius+e;this.octx.clearRect(c.left+b.xaxis.d2p(b.x)-f,c.top+b.yaxis.d2p(b.y)-f,f*2,f*2),a.hide(this.mouseTrack)}},hit:function(b){var c=this.series,d=this.options,e=this.prevHit,f=this.plotOffset,g=this.octx,h,i,j,k,l,m,n,o,p,q,r,s={dist:Number.MAX_VALUE,x:null,y:null,relX:b.relX,relY:b.relY,absX:b.absX,absY:b.absY,sAngle:null,eAngle:null,fraction:null,mouse:null,xaxis:null,yaxis:null,series:null,index:null,seriesIndex:null};if(d.mouse.trackAll)for(r=0;r<c.length;r++){B=c[0],h=B.data,n=B.xaxis,o=B.yaxis,j=2*d.points.lineWidth/n.scale*B.mouse.sensibility,p=n.p2d(b.relX),q=o.p2d(b.relY);for(var t=0;t<h.length;t++){l=h[t][0],m=h[t][1];if(m===null||n.min>l||n.max<l||o.min>m||o.max<m||p<n.min||p>n.max||q<o.min||q>o.max)continue;var u=Math.abs(l-p);if(!B.bars.show&&u<j||B.bars.show&&u<B.bars.barWidth/2||m<0&&q<0&&q>m){var v=u;v<s.dist&&(s.dist=v,s.x=l,s.y=m,s.xaxis=n,s.yaxis=o,s.mouse=B.mouse,s.series=B,s.allSeries=c,s.index=t)}}}else if(!this.hit.executeOnType(c,"hit",[b,s]))for(r=0;r<c.length;r++){B=c[r];if(!B.mouse.track)continue;h=B.data,n=B.xaxis,o=B.yaxis,i=2*(d.points?d.points.lineWidth:1)*B.mouse.sensibility,j=i/n.scale,k=i/o.scale,p=n.p2d(b.relX),q=o.p2d(b.relY);for(var t=0,w,x;t<h.length;t++){l=h[t][0],m=h[t][1];if(m===null||n.min>l||n.max<l||o.min>m||o.max<m)continue;if(B.bars.show&&B.bars.centered)var u=Math.abs(l-p),y=Math.abs(m-q);else if(B.bars.horizontal)var u=Math.abs(l-p),y=Math.abs(m+B.bars.barWidth/2-q);else var u=Math.abs(l+B.bars.barWidth/2-p),y=Math.abs(m-q);if(!B.bars.show&&u<j&&(!B.mouse.trackY||y<k)||B.bars.show&&!B.bars.horizontal&&u<B.bars.barWidth/2+1/n.scale&&(!B.mouse.trackY||m>0&&q>0&&q<m||m<0&&q<0&&q>m)||B.bars.horizontal&&y<B.bars.barWidth/2+1/o.scale&&(l>0&&p>0&&p<l||l<0&&p<0&&p>l)){var v=Math.sqrt(u*u+y*y);v<s.dist&&(s.dist=v,s.x=l,s.y=m,s.xaxis=n,s.yaxis=o,s.mouse=B.mouse,s.series=B,s.allSeries=c,s.index=t,s.seriesIndex=r)}}}if(s.series&&(s.mouse&&s.mouse.track&&!e||e)){var z=this.hit.getMouseTrack(),A="",B=s.series,C=s.mouse.position,E=s.mouse.margin,F="opacity:0.7;background-color:#000;color:#fff;display:none;position:absolute;padding:2px 8px;-moz-border-radius:4px;border-radius:4px;white-space:nowrap;";if(!s.mouse.relative)C.charAt(0)=="n"?A+="top:"+(E+f.top)+"px;bottom:auto;":C.charAt(0)=="s"&&(A+="bottom:"+(E+f.bottom)+"px;top:auto;"),C.charAt(1)=="e"?A+="right:"+(E+f.right)+"px;left:auto;":C.charAt(1)=="w"&&(A+="left:"+(E+f.left)+"px;right:auto;");else if(!B.bars.show&&!B.pie.show)C.charAt(0)=="n"?A+="bottom:"+(E-f.top-s.yaxis.d2p(s.y)+this.canvasHeight)+"px;top:auto;":C.charAt(0)=="s"&&(A+="top:"+(E+f.top+s.yaxis.d2p(s.y))+"px;bottom:auto;"),C.charAt(1)=="e"?A+="left:"+(E+f.left+s.xaxis.d2p(s.x))+"px;right:auto;":C.charAt(1)=="w"&&(A+="right:"+(E-f.left-s.xaxis.d2p(s.x)+this.canvasWidth)+"px;left:auto;");else if(B.bars.show)A+="bottom:"+(E-f.top-s.yaxis.d2p(s.y/2)+this.canvasHeight)+"px;top:auto;",A+="left:"+(E+f.left+s.xaxis.d2p(s.x-d.bars.barWidth/2))+"px;right:auto;";else{var G={x:this.plotWidth/2,y:this.plotHeight/2},H=Math.min(this.canvasWidth,this.canvasHeight)*B.pie.sizeRatio/2,I=s.sAngle<s.eAngle?(s.sAngle+s.eAngle)/2:(s.sAngle+s.eAngle+2*Math.PI)/2;A+="bottom:"+(E-f.top-G.y-Math.sin(I)*H/2+this.canvasHeight)+"px;top:auto;",A+="left:"+(E+f.left+G.x+Math.cos(I)*H/2)+"px;right:auto;"}F+=A,z.style.cssText=F;if(s.x!==null&&s.y!==null){this.hit.clearHit(),this.hit.drawHit(s),a.show(z);var J=s.mouse.trackDecimals;if(J==null||J<0)J=0;z.innerHTML=s.mouse.trackFormatter({x:s.x.toFixed(J),y:s.y.toFixed(J),series:s.series,index:s.index,nearest:s,fraction:s.fraction}),Flotr.EventAdapter.fire(this.el,"flotr:hit",[s,this])}else e&&this.hit.clearHit()}else this.prevHit&&this.hit.clearHit()},getMouseTrack:function(){return this.mouseTrack||(this.mouseTrack=a.node('<div class="flotr-mouse-value"></div>'),a.insert(this.el,this.mouseTrack)),this.mouseTrack}})}(),function(){function a(a,b){return a.which?a.which===1:a.button===0||a.button===1}function b(a,b){return Math.min(Math.max(0,a),b.plotWidth)}function c(a,b){return Math.min(Math.max(0,a),b.plotHeight)}var d=Flotr.DOM,e=Flotr.EventAdapter,f=Flotr._;Flotr.addPlugin("selection",{options:{mode:null,color:"#B6D9FF",fps:20},callbacks:{"flotr:mouseup":function(a){if(!this.options.selection||!this.options.selection.mode)return;this.selection.interval&&clearInterval(this.selection.interval);var b=e.eventPointer(a);this.selection.setSelectionPos(this.selection.selection.second,{pageX:b.x,pageY:b.y}),this.selection.clearSelection(),this.selection.selectionIsSane()&&(this.selection.drawSelection(),this.selection.fireSelectEvent(),this.ignoreClick=!0)},"flotr:mousedown":function(b){if(!this.options.selection||!this.options.selection.mode)return;if(!this.options.selection.mode||!a(b)&&f.isUndefined(b.touches))return;var c=e.eventPointer(b);this.selection.setSelectionPos(this.selection.selection.first,{pageX:c.x,pageY:c.y}),this.selection.interval&&clearInterval(this.selection.interval),this.lastMousePos.pageX=null,this.selection.interval=setInterval(f.bind(this.selection.updateSelection,this),1e3/this.options.selection.fps)}},getArea:function(){var a=this.selection.selection,b=a.first,c=a.second;return{x1:Math.min(b.x,c.x),x2:Math.max(b.x,c.x),y1:Math.min(b.y,c.y),y2:Math.max(b.y,c.y)}},selection:{first:{x:-1,y:-1},second:{x:-1,y:-1}},prevSelection:null,interval:null,fireSelectEvent:function(){var a=this.axes,b=this.selection.selection,c,d,f,g;c=a.x.p2d(b.first.x),d=a.x.p2d(b.second.x),f=a.y.p2d(b.first.y),g=a.y.p2d(b.second.y),e.fire(this.el,"flotr:select",[{x1:Math.min(c,d),y1:Math.min(f,g),x2:Math.max(c,d),y2:Math.max(f,g),xfirst:c,xsecond:d,yfirst:f,ysecond:g},this])},setSelection:function(a,d){var e=this.options,f=this.axes.x,g=this.axes.y,h=g.scale,i=f.scale,j=e.selection.mode.indexOf("x")!=-1,k=e.selection.mode.indexOf("y")!=-1,l=this.selection.selection;this.selection.clearSelection(),l.first.y=c(j&&!k?0:(g.max-a.y1)*h,this),l.second.y=c(j&&!k?this.plotHeight-1:(g.max-a.y2)*h,this),l.first.x=b(k&&!j?0:a.x1,this),l.second.x=b(k&&!j?this.plotWidth:a.x2,this),this.selection.drawSelection(),d||this.selection.fireSelectEvent()},setSelectionPos:function(a,e){var f=this.options,g=d.position(this.overlay),h=this.selection.selection;f.selection.mode.indexOf("x")==-1?a.x=a==h.first?0:this.plotWidth:a.x=b(e.pageX-g.left-this.plotOffset.left,this),f.selection.mode.indexOf("y")==-1?a.y=a==h.first?0:this.plotHeight-1:a.y=c(e.pageY-g.top-this.plotOffset.top,this)},drawSelection:function(){var a=this.selection.selection,b=this.octx,c=this.options,d=this.plotOffset,e=this.selection.prevSelection;if(e!=null&&a.first.x==e.first.x&&a.first.y==e.first.y&&a.second.x==e.second.x&&a.second.y==e.second.y)return;b.save(),b.strokeStyle=this.processColor(c.selection.color,{opacity:.8}),b.lineWidth=1,b.lineJoin="miter",b.fillStyle=this.processColor(c.selection.color,{opacity:.4}),this.selection.prevSelection={first:{x:a.first.x,y:a.first.y},second:{x:a.second.x,y:a.second.y}};var f=Math.min(a.first.x,a.second.x),g=Math.min(a.first.y,a.second.y),h=Math.abs(a.second.x-a.first.x),i=Math.abs(a.second.y-a.first.y);b.fillRect(f+d.left+.5,g+d.top+.5,h,i),b.strokeRect(f+d.left+.5,g+d.top+.5,h,i),b.restore()},updateSelection:function(){if(this.lastMousePos.pageX==null)return;this.selection.setSelectionPos(this.selection.selection.second,this.lastMousePos),this.selection.clearSelection(),this.selection.selectionIsSane()&&this.selection.drawSelection()},clearSelection:function(){if(this.selection.prevSelection==null)return;var a=this.selection.prevSelection,b=this.octx.lineWidth,c=this.plotOffset,d=Math.min(a.first.x,a.second.x),e=Math.min(a.first.y,a.second.y),f=Math.abs(a.second.x-a.first.x),g=Math.abs(a.second.y-a.first.y);this.octx.clearRect(d+c.left-b/2+.5,e+c.top-b/2+.5,f+b,g+b),this.selection.prevSelection=null},selectionIsSane:function(){var a=this.selection.selection;return Math.abs(a.second.x-a.first.x)>=5&&Math.abs(a.second.y-a.first.y)>=5}})}(),function(){var a=Flotr.DOM;Flotr.addPlugin("labels",{callbacks:{"flotr:afterdraw":function(){this.labels.draw()}},draw:function(){var b=0,c,d,e,f,g,h,i,j=this.options,k=this.ctx,l=this.axes,m;for(e=0;e<l.x.ticks.length;++e)l.x.ticks[e].label&&++b;d=this.plotWidth/b;if(j.grid.circular){k.save(),k.translate(this.plotOffset.left+this.plotWidth/2,this.plotOffset.top+this.plotHeight/2);var n=this.plotHeight*j.radar.radiusRatio/2+j.fontSize,o=this.axes.x.ticks.length,p=2*(Math.PI/o),q=-Math.PI/2,r,s;m={size:j.fontSize},c=l.x,m.color=c.options.color||j.grid.color;for(e=0;e<c.ticks.length&&c.options.showLabels;++e){g=c.ticks[e],g.label+="";if(!g.label||g.label.length==0)continue;r=Math.cos(e*p+q)*n,s=Math.sin(e*p+q)*n,m.angle=Flotr.toRad(c.options.labelsAngle),m.textBaseline="middle",m.textAlign=Math.abs(r)<.1?"center":r<0?"right":"left",Flotr.drawText(k,g.label,r,s,m)}for(e=0;e<c.minorTicks.length&&c.options.showMinorLabels;++e){g=c.minorTicks[e],g.label+="";if(!g.label||g.label.length==0)continue;r=Math.cos(e*p+q)*n,s=Math.sin(e*p+q)*n,m.angle=Flotr.toRad(c.options.labelsAngle),m.textBaseline="middle",m.textAlign=Math.abs(r)<.1?"center":r<0?"right":"left",Flotr.drawText(k,g.label,r,s,m)}c=l.y,m.color=c.options.color||j.grid.color;for(e=0;e<c.ticks.length&&c.options.showLabels;++e){g=c.ticks[e],g.label+="";if(!g.label||g.label.length==0)continue;m.angle=Flotr.toRad(c.options.labelsAngle),m.textBaseline="middle",m.textAlign="left",Flotr.drawText(k,g.label,3,-(c.ticks[e].v/c.max)*(n-j.fontSize),m)}for(e=0;e<c.minorTicks.length&&c.options.showMinorLabels;++e){g=c.minorTicks[e],g.label+="";if(!g.label||g.label.length==0)continue;m.angle=Flotr.toRad(c.options.labelsAngle),m.textBaseline="middle",m.textAlign="left",Flotr.drawText(k,g.label,3,-(c.ticks[e].v/c.max)*(n-j.fontSize),m)}k.restore();return}if(!j.HtmlText&&this.textEnabled){m={size:j.fontSize},c=l.x,m.color=c.options.color||j.grid.color;for(e=0;e<c.ticks.length&&c.options.showLabels&&c.used;++e){g=c.ticks[e];if(!g.label||g.label.length==0)continue;h=c.d2p(g.v);if(h<0||h>this.plotWidth)continue;m.angle=Flotr.toRad(c.options.labelsAngle),m.textAlign="center",m.textBaseline="top",m=Flotr.getBestTextAlign(m.angle,m),Flotr.drawText(k,g.label,this.plotOffset.left+h,this.plotOffset.top+this.plotHeight+j.grid.labelMargin,m)}c=l.x2,m.color=c.options.color||j.grid.color;for(e=0;e<c.ticks.length&&c.options.showLabels&&c.used;++e){g=c.ticks[e];if(!g.label||g.label.length==0)continue;h=c.d2p(g.v);if(h<0||h>this.plotWidth)continue;m.angle=Flotr.toRad(c.options.labelsAngle),m.textAlign="center",m.textBaseline="bottom",m=Flotr.getBestTextAlign(m.angle,m),Flotr.drawText(k,g.label,this.plotOffset.left+h,this.plotOffset.top+j.grid.labelMargin,m)}c=l.y,m.color=c.options.color||j.grid.color;for(e=0;e<c.ticks.length&&c.options.showLabels&&c.used;++e){g=c.ticks[e];if(!g.label||g.label.length==0)continue;i=c.d2p(g.v);if(i<0||i>this.plotHeight)continue;m.angle=Flotr.toRad(c.options.labelsAngle),m.textAlign="right",m.textBaseline="middle",m=Flotr.getBestTextAlign(m.angle,m),Flotr.drawText(k,g.label,this.plotOffset.left-j.grid.labelMargin,this.plotOffset.top+i,m)}c=l.y2,m.color=c.options.color||j.grid.color;for(e=0;e<c.ticks.length&&c.options.showLabels&&c.used;++e){g=c.ticks[e];if(!g.label||g.label.length==0)continue;i=c.d2p(g.v);if(i<0||i>this.plotHeight)continue;m.angle=Flotr.toRad(c.options.labelsAngle),m.textAlign="left",m.textBaseline="middle",m=Flotr.getBestTextAlign(m.angle,m),Flotr.drawText(k,g.label,this.plotOffset.left+this.plotWidth+j.grid.labelMargin,this.plotOffset.top+i,m),k.save(),k.strokeStyle=m.color,k.beginPath(),k.moveTo(this.plotOffset.left+this.plotWidth-8,this.plotOffset.top+c.d2p(g.v)),k.lineTo(this.plotOffset.left+this.plotWidth,this.plotOffset.top+c.d2p(g.v)),k.stroke(),k.restore()}}else if(l.x.options.showLabels||l.x2.options.showLabels||l.y.options.showLabels||l.y2.options.showLabels){f=[],c=l.x;if(c.options.showLabels)for(e=0;e<c.ticks.length;++e){g=c.ticks[e];if(!g.label||g.label.length==0||this.plotOffset.left+c.d2p(g.v)<0||this.plotOffset.left+c.d2p(g.v)>this.canvasWidth)continue;f.push('<div style="position:absolute;top:',this.plotOffset.top+this.plotHeight+j.grid.labelMargin,"px;left:",this.plotOffset.left+c.d2p(g.v)-d/2,"px;width:",d,"px;text-align:center;",c.options.color?"color:"+c.options.color+";":"",'" class="flotr-grid-label">',g.label,"</div>")}c=l.x2;if(c.options.showLabels&&c.used)for(e=0;e<c.ticks.length;++e){g=c.ticks[e];if(!g.label||g.label.length==0||this.plotOffset.left+c.d2p(g.v)<0||this.plotOffset.left+c.d2p(g.v)>this.canvasWidth)continue;f.push('<div style="position:absolute;top:',this.plotOffset.top-j.grid.labelMargin-c.maxLabel.height,"px;left:",this.plotOffset.left+c.d2p(g.v)-d/2,"px;width:",d,"px;text-align:center;",c.options.color?"color:"+c.options.color+";":"",'" class="flotr-grid-label">',g.label,"</div>")}c=l.y;if(c.options.showLabels)for(e=0;e<c.ticks.length;++e){g=c.ticks[e];if(!g.label||g.label.length==0||this.plotOffset.top+c.d2p(g.v)<0||this.plotOffset.top+c.d2p(g.v)>this.canvasHeight)continue;f.push('<div style="position:absolute;top:',this.plotOffset.top+c.d2p(g.v)-c.maxLabel.height/2,"px;left:0;width:",this.plotOffset.left-j.grid.labelMargin,"px;text-align:right;",c.options.color?"color:"+c.options.color+";":"",'" class="flotr-grid-label flotr-grid-label-y">',g.label,"</div>")}c=l.y2;if(c.options.showLabels&&c.used){k.save(),k.strokeStyle=c.options.color||j.grid.color,k.beginPath();for(e=0;e<c.ticks.length;++e){g=c.ticks[e];if(!g.label||g.label.length==0||this.plotOffset.top+c.d2p(g.v)<0||this.plotOffset.top+c.d2p(g.v)>this.canvasHeight)continue;f.push('<div style="position:absolute;top:',this.plotOffset.top+c.d2p(g.v)-c.maxLabel.height/2,"px;right:0;width:",this.plotOffset.right-j.grid.labelMargin,"px;text-align:left;",c.options.color?"color:"+c.options.color+";":"",'" class="flotr-grid-label flotr-grid-label-y">',g.label,"</div>"),k.moveTo(this.plotOffset.left+this.plotWidth-8,this.plotOffset.top+c.d2p(g.v)),k.lineTo(this.plotOffset.left+this.plotWidth,this.plotOffset.top+c.d2p(g.v))}k.stroke(),k.restore()}f=f.join("");var t=a.create("div");a.setStyles(t,{fontSize:"smaller",color:j.grid.color}),t.className="flotr-labels",a.insert(this.el,t),a.insert(t,f)}}})}(),function(){var a=Flotr.DOM,b=Flotr._;Flotr.addPlugin("legend",{options:{show:!0,noColumns:1,labelFormatter:function(a){return a},labelBoxBorderColor:"#CCCCCC",labelBoxWidth:14,labelBoxHeight:10,labelBoxMargin:5,labelBoxOpacity:.4,container:null,position:"nw",margin:5,backgroundColor:null,backgroundOpacity:.85},callbacks:{"flotr:afterinit":function(){this.legend.insertLegend()}},insertLegend:function(){if(!this.options.legend.show)return;var c=this.series,d=this.plotOffset,e=this.options,f=e.legend,g=[],h=!1,i=this.ctx,j=b.filter(c,function(a){return a.label&&!a.hide}).length,k=f.position,l=f.margin,m,n,o;if(j)if(!e.HtmlText&&this.textEnabled&&!f.container){var p={size:e.fontSize*1.1,color:e.grid.color},q=f.labelBoxWidth,r=f.labelBoxHeight,s=f.labelBoxMargin,t=d.left+l,u=d.top+l,v=0;for(m=c.length-1;m>-1;--m){if(!c[m].label||c[m].hide)continue;n=f.labelFormatter(c[m].label),v=Math.max(v,this._text.measureText(n,p).width)}var w=Math.round(q+s*3+v),x=Math.round(j*(s+r)+s);k.charAt(0)=="s"&&(u=d.top+this.plotHeight-(l+x)),k.charAt(1)=="e"&&(t=d.left+this.plotWidth-(l+w)),o=this.processColor(f.backgroundColor||"rgb(240,240,240)",{opacity:f.backgroundOpacity||.1}),i.fillStyle=o,i.fillRect(t,u,w,x),i.strokeStyle=f.labelBoxBorderColor,i.strokeRect(Flotr.toPixel(t),Flotr.toPixel(u),w,x);var y=t+s,z=u+s;for(m=0;m<c.length;m++){if(!c[m].label||c[m].hide)continue;n=f.labelFormatter(c[m].label),i.fillStyle=c[m].color,i.fillRect(y,z,q-1,r-1),i.strokeStyle=f.labelBoxBorderColor,i.lineWidth=1,i.strokeRect(Math.ceil(y)-1.5,Math.ceil(z)-1.5,q+2,r+2),Flotr.drawText(i,n,y+q+s,z+r,p),z+=r+s}}else{for(m=0;m<c.length;++m){if(!c[m].label||c[m].hide)continue;m%f.noColumns===0&&(g.push(h?"</tr><tr>":"<tr>"),h=!0);var A=c[m],B=f.labelBoxWidth,C=f.labelBoxHeight,E=A.bars?A.bars.fillOpacity:f.labelBoxOpacity,F="opacity:"+E+";filter:alpha(opacity="+E*100+");";n=f.labelFormatter(A.label),o="background-color:"+(A.bars&&A.bars.show&&A.bars.fillColor&&A.bars.fill?A.bars.fillColor:A.color)+";",g.push('<td class="flotr-legend-color-box">','<div style="border:1px solid ',f.labelBoxBorderColor,';padding:1px">','<div style="width:',B-1,"px;height:",C-1,"px;border:1px solid ",c[m].color,'">','<div style="width:',B,"px;height:",C,"px;","opacity:.4;",o,'"></div>',"</div>","</div>","</td>",'<td class="flotr-legend-label">',n,"</td>")}h&&g.push("</tr>");if(g.length>0){var G='<table style="font-size:smaller;color:'+e.grid.color+'">'+g.join("")+"</table>";if(f.container)a.insert(f.container,G);else{var H={position:"absolute","z-index":2};k.charAt(0)=="n"?(H.top=l+d.top+"px",H.bottom="auto"):k.charAt(0)=="s"&&(H.bottom=l+d.bottom+"px",H.top="auto"),k.charAt(1)=="e"?(H.right=l+d.right+"px",H.left="auto"):k.charAt(1)=="w"&&(H.left=l+d.left+"px",H.right="auto");var I=a.create("div"),J;I.className="flotr-legend",a.setStyles(I,H),a.insert(I,G),a.insert(this.el,I);if(f.backgroundOpacity==0)return;var K=f.backgroundColor||e.grid.backgroundColor||"#ffffff";b.extend(H,a.size(I),{backgroundColor:K,"z-index":1}),H.width+="px",H.height+="px",I=a.create("div"),I.className="flotr-legend-bg",a.setStyles(I,H),a.opacity(I,f.backgroundOpacity),a.insert(I," "),a.insert(this.el,I)}}}}})}(),function(){var a=Flotr.DOM,b=Flotr._;Flotr.addPlugin("spreadsheet",{options:{show:!1,tabGraphLabel:"Graph",tabDataLabel:"Data",toolbarDownload:"Download CSV",toolbarSelectAll:"Select all",csvFileSeparator:",",decimalSeparator:".",tickFormatter:null},callbacks:{"flotr:afterconstruct":function(){if(!this.options.spreadsheet.show)return;var b=this.spreadsheet,c=a.node('<div class="flotr-tabs-group" style="position:absolute;left:0px;width:'+this.canvasWidth+'px"></div>'),d=a.node('<div style="float:left" class="flotr-tab selected">'+this.options.spreadsheet.tabGraphLabel+"</div>"),e=a.node('<div style="float:left" class="flotr-tab">'+this.options.spreadsheet.tabDataLabel+"</div>"),f;b.tabsContainer=c,b.tabs={graph:d,data:e},a.insert(c,d),a.insert(c,e),a.insert(this.el,c),f=a.size(e).height+2,this.plotOffset.bottom+=f,a.setStyles(c,{top:this.canvasHeight-f+"px"}),Flotr.EventAdapter.observe(d,"click",function(){b.showTab("graph")}).observe(e,"click",function(){b.showTab("data")});return}},loadDataGrid:function(){if(this.seriesData)return this.seriesData;var a=this.series,c=[];for(i=0;i<a.length;++i)b.each(a[i].data,function(a){var d=a[0],e=a[1],f=b.detect(c,function(a){return a[0]==d});if(f)f[i+1]=e;else{var g=[];g[0]=d,g[i+1]=e,c.push(g)}});return this.seriesData=b.sortBy(c,function(a){return a[0]}),this.seriesData},constructDataGrid:function(){if(this.spreadsheet.datagrid)return this.spreadsheet.datagrid;var c,d,e=this.series,f=this.spreadsheet.loadDataGrid(),g=["<colgroup><col />"],h,i,j,k=['<table class="flotr-datagrid"><tr class="first-row">'];k.push("<th>&nbsp;</th>");for(c=0;c<e.length;++c)k.push('<th scope="col">'+(e[c].label||String.fromCharCode(65+c))+"</th>"),g.push("<col />");k.push("</tr>");for(d=0;d<f.length;++d){k.push("<tr>");for(c=0;c<e.length+1;++c){var l="td",m=f[d][c]!=null?Math.round(f[d][c]*1e5)/1e5:"";if(c==0){l="th";var n;if(this.options.xaxis.ticks){var o=this.options.xaxis.ticks.find(function(a){return a[0]==f[d][c]});o&&(n=o[1])}else this.options.spreadsheet.tickFormatter?n=this.options.spreadsheet.tickFormatter(m):n=this.options.xaxis.tickFormatter(m);n&&(m=n)}k.push("<"+l+(l=="th"?' scope="row"':"")+">"+m+"</"+l+">")}k.push("</tr>")}g.push("</colgroup>"),j=a.node(k.join("")),h=a.node('<button type="button" class="flotr-datagrid-toolbar-button">'+this.options.spreadsheet.toolbarDownload+"</button>"),i=a.node('<button type="button" class="flotr-datagrid-toolbar-button">'+this.options.spreadsheet.toolbarSelectAll+"</button>"),Flotr.EventAdapter.observe(h,"click",b.bind(this.spreadsheet.downloadCSV,this)).observe(i,"click",b.bind(this.spreadsheet.selectAllData,this));var p=a.node('<div class="flotr-datagrid-toolbar"></div>');a.insert(p,h),a.insert(p,i);var q=this.canvasHeight-a.size(this.spreadsheet.tabsContainer).height-2,r=a.node('<div class="flotr-datagrid-container" style="position:absolute;left:0px;top:0px;width:'+this.canvasWidth+"px;height:"+q+'px;overflow:auto;z-index:10"></div>');return a.insert(r,p),a.insert(r,j),a.insert(this.el,r),this.spreadsheet.datagrid=j,this.spreadsheet.container=r,j},showTab:function(b){var c="canvas, .flotr-labels, .flotr-legend, .flotr-legend-bg, .flotr-title, .flotr-subtitle";switch(b){case"graph":a.hide(this.spreadsheet.container),a.removeClass(this.spreadsheet.tabs.data,"selected"),a.addClass(this.spreadsheet.tabs.graph,"selected");break;case"data":this.spreadsheet.datagrid||this.spreadsheet.constructDataGrid(),a.show(this.spreadsheet.container),a.addClass(this.spreadsheet.tabs.data,"selected"),a.removeClass(this.spreadsheet.tabs.graph,"selected")}},selectAllData:function(){console.log("selectAllData");if(this.spreadsheet.tabs){var a,b,c,d,e=this.spreadsheet.constructDataGrid();return this.spreadsheet.showTab("data"),setTimeout(function(){(c=e.ownerDocument)&&(d=c.defaultView)&&d.getSelection&&c.createRange&&(a=window.getSelection())&&a.removeAllRanges?(b=c.createRange(),b.selectNode(e),a.removeAllRanges(),a.addRange(b)):document.body&&document.body.createTextRange&&(b=document.body.createTextRange())&&(b.moveToElementText(e),b.select())},0),!0}return!1},downloadCSV:function(){console.log("downloadCSV");var a,b="",c=this.series,d=this.options,e=this.spreadsheet.loadDataGrid(),f=encodeURIComponent(d.spreadsheet.csvFileSeparator);if(d.spreadsheet.decimalSeparator===d.spreadsheet.csvFileSeparator)throw"The decimal separator is the same as the column separator ("+d.spreadsheet.decimalSeparator+")";for(a=0;a<c.length;++a)b+=f+'"'+(c[a].label||String.fromCharCode(65+a)).replace(/\"/g,'\\"')+'"';b+="%0D%0A";for(a=0;a<e.length;++a){var g="";if(d.xaxis.ticks){var h=d.xaxis.ticks.find(function(b){return b[0]==e[a][0]});h&&(g=h[1])}else d.spreadsheet.tickFormatter?g=d.spreadsheet.tickFormatter(e[a][0]):g=d.xaxis.tickFormatter(e[a][0]);g='"'+(g+"").replace(/\"/g,'\\"')+'"';var i=e[a].slice(1).join(f);d.spreadsheet.decimalSeparator!=="."&&(i=i.replace(/\./g,d.spreadsheet.decimalSeparator)),b+=g+f+i+"%0D%0A"}Flotr.isIE&&Flotr.isIE<9?(b=b.replace(new RegExp(f,"g"),decodeURIComponent(f)).replace(/%0A/g,"\n").replace(/%0D/g,"\r"),window.open().document.write(b)):window.open("data:text/csv,"+b)}})}(),function(){var a=Flotr.DOM;Flotr.addPlugin("titles",{callbacks:{"flotr:afterdraw":function(){this.titles.drawTitles()}},drawTitles:function(){var b,c=this.options,d=c.grid.labelMargin,e=this.ctx,f=this.axes;if(!c.HtmlText&&this.textEnabled){var g={size:c.fontSize,color:c.grid.color,textAlign:"center"};c.subtitle&&Flotr.drawText(e,c.subtitle,this.plotOffset.left+this.plotWidth/2,this.titleHeight+this.subtitleHeight-2,g),g.weight=1.5,g.size*=1.5,c.title&&Flotr.drawText(e,c.title,this.plotOffset.left+this.plotWidth/2,this.titleHeight-2,g),g.weight=1.8,g.size*=.8,f.x.options.title&&f.x.used&&(g.textAlign=f.x.options.titleAlign||"center",g.textBaseline="top",g.angle=Flotr.toRad(f.x.options.titleAngle),g=Flotr.getBestTextAlign(g.angle,g),Flotr.drawText(e,f.x.options.title,this.plotOffset.left+this.plotWidth/2,this.plotOffset.top+f.x.maxLabel.height+this.plotHeight+2*d,g)),f.x2.options.title&&f.x2.used&&(g.textAlign=f.x2.options.titleAlign||"center",g.textBaseline="bottom",g.angle=Flotr.toRad(f.x2.options.titleAngle),g=Flotr.getBestTextAlign(g.angle,g),Flotr.drawText(e,f.x2.options.title,this.plotOffset.left+this.plotWidth/2,this.plotOffset.top-f.x2.maxLabel.height-2*d,g)),f.y.options.title&&f.y.used&&(g.textAlign=f.y.options.titleAlign||"right",g.textBaseline="middle",g.angle=Flotr.toRad(f.y.options.titleAngle),g=Flotr.getBestTextAlign(g.angle,g),Flotr.drawText(e,f.y.options.title,this.plotOffset.left-f.y.maxLabel.width-2*d,this.plotOffset.top+this.plotHeight/2,g)),f.y2.options.title&&f.y2.used&&(g.textAlign=f.y2.options.titleAlign||"left",g.textBaseline="middle",g.angle=Flotr.toRad(f.y2.options.titleAngle),g=Flotr.getBestTextAlign(g.angle,g),Flotr.drawText(e,f.y2.options.title,this.plotOffset.left+this.plotWidth+f.y2.maxLabel.width+2*d,this.plotOffset.top+this.plotHeight/2,g))}else{b=[],c.title&&b.push('<div style="position:absolute;top:0;left:',this.plotOffset.left,"px;font-size:1em;font-weight:bold;text-align:center;width:",this.plotWidth,'px;" class="flotr-title">',c.title,"</div>"),c.subtitle&&b.push('<div style="position:absolute;top:',this.titleHeight,"px;left:",this.plotOffset.left,"px;font-size:smaller;text-align:center;width:",this.plotWidth,'px;" class="flotr-subtitle">',c.subtitle,"</div>"),b.push("</div>"),b.push('<div class="flotr-axis-title" style="font-weight:bold;">'),f.x.options.title&&f.x.used&&b.push('<div style="position:absolute;top:',this.plotOffset.top+this.plotHeight+c.grid.labelMargin+f.x.titleSize.height,"px;left:",this.plotOffset.left,"px;width:",this.plotWidth,'px;text-align:center;" class="flotr-axis-title">',f.x.options.title,"</div>"),f.x2.options.title&&f.x2.used&&b.push('<div style="position:absolute;top:0;left:',this.plotOffset.left,"px;width:",this.plotWidth,'px;text-align:center;" class="flotr-axis-title">',f.x2.options.title,"</div>"),f.y.options.title&&f.y.used&&b.push('<div style="position:absolute;top:',this.plotOffset.top+this.plotHeight/2-f.y.titleSize.height/2,'px;left:0;text-align:right;" class="flotr-axis-title">',f.y.options.title,"</div>"),f.y2.options.title&&f.y2.used&&b.push('<div style="position:absolute;top:',this.plotOffset.top+this.plotHeight/2-f.y.titleSize.height/2,'px;right:0;text-align:right;" class="flotr-axis-title">',f.y2.options.title,"</div>"),b=b.join("");var h=a.create("div");a.setStyles({color:c.grid.color}),h.className="flotr-titles",a.insert(this.el,h),a.insert(h,b)}}})}()
typeof Humble=="undefined"&&(Humble={}),typeof Humble.Vis=="undefined"&&(Humble.Vis={}),function(){function a(a){this.data=a}a.prototype={bound:function(a,b){if(!_.isNumber(a)||!_.isNumber(b))return this;var c=this.data,d=c.length,e=[],f;for(f=0;f<d;f++)if(c[f][0]>=a)break;f>0&&f--;for(f;f<d;f++){e.push(c[f]);if(c[f][0]>b)break}this.data=e;return this},subsampleMinMax:function(a){var b=this.data,c=b.length,d=c-1,e=[],f=a/c,g=Math.round(f*1),h=1,i=1,j,k,l,m,n;if(c>a){e.push(b[0]);for(m=1;m<d;m++)n=Math.round(f*m),n!==g?(i===h?e.push(b[h]):e.push(b[Math.min(h,i)],b[Math.max(h,i)]),h=i=m,j=k=b[m][1],g=n):(l=b[m][1],l<j&&(h=m,j=l),l>k&&(i=m,k=l));e.push(b[c-1]),this.data=e}return this},subsample:function(a){var b=this.data,c=b.length,d=[],e=c/a,f;if(c>a){d.push(b[0]);for(f=1;f<a;f++){if(f*e>=c)break;d.push(b[Math.round(f*e)])}d.push(b[c-1]),this.data=d}return this}},Humble.Vis.Data=a}(),function(){function d(a){this.options=a||{},this.children=[],this.container=null,this.rendered=!1}var a="humble-vis-first",b="humble-vis-last",c='<div class="humble-vis-visualization"></div>';d.prototype={render:function(a){var b=this.options;a=a||b.element;if(!a)throw"No element to render within.";this.container=bonzo.create(c),bonzo(a).append(this.container),_.each(this.children,function(a){a.render(this.container)},this),this._updateClasses(),this.rendered=!0},add:function(a){this.children.push(a),this.rendered&&(a.render(this.container),this._updateClasses());return a},remove:function(a){var b=this.children,c=this.indexOf(a);if(c!==-1){b.splice(c,1),bonzo(a.node).remove(),this._updateClasses();return!0}},setPosition:function(a,b){var c=this.children;if(b>=0&&b<c.length&&this.remove(a)){b===c.length?bonzo(this.container).append(a.node):this.container[0].insertBefore(a.node[0],c[b].node[0]),c.splice(b,0,a),this._updateClasses();return!0}},indexOf:function(a){return _.indexOf(this.children,a)},getChild:function(a){var b=this.children;if(a<b.length)return b[a]},isFirst:function(a){return this.indexOf(a)===0?!0:!1},isLast:function(a){return this.indexOf(a)===this.children.length-1?!0:!1},_updateClasses:function(){var c=this.children,d=0,e=c.length-1,f;_.each(c,function(c,g){f=bonzo(c.node),g===d?f.addClass(a):f.removeClass(a),g===e?f.addClass(b):f.removeClass(b)})}},Humble.Vis.Visualization=d}(),function(){function b(a){this.options=a=a||{},this.actions=[],this.followers=[],this.leaders=[],a.leader&&this.lead(a.leader)}var a=Flotr.EventAdapter;b.prototype={getLeaders:function(){return this.leaders},getFollowers:function(){return this.followers},getActions:function(){return this.actions},lead:function(a){this.leaders.push(a),_.each(this.actions,function(b){this._bindLeader(a,b)},this)},follow:function(a){this.followers.push(a)},group:function(a){_.isArray(a)||(a=[a]),_.each(a,function(a){this.lead(a),this.follow(a)},this)},add:function(a){this.actions.push(a),_.each(this.leaders,function(b){this._bindLeader(b,a)},this)},_bindLeader:function(b,c){_.each(c.events,function(d,e){a.observe(b.container,e,_.bind(c[d],this,b))},this)}},Humble.Vis.Interaction=b}(),function(){var a={events:{"flotr:select":"zoom","flotr:click":"reset"},zoom:function(a,b){var c=a.getData(),d=b.x1,e=b.x2,f;f={xaxis:{min:d,max:e}},_.each(this.followers,function(a){a.draw(null,f)},this)},reset:function(){var a=this.leaders[0],b=a.flotr.axes.x.min,c=a.flotr.axes.x.max,d={xaxis:{min:b,max:c}};_.each(this.followers,function(a){a.draw(null,d)},this)}};Humble.Vis.Action={},Humble.Vis.Action.Selection=a}(),function(){var a={events:{"flotr:hit":"hit",mouseout:"reset"},hit:function(a,b){if(!this._preventHit){this._preventHit=!0;var c=b.index,d=b.x,e,f,g,h,i;_.each(this.followers,function(b){a!==b&&(f=b.flotr,g={relX:f.axes.x.d2p(d),relY:1},f.hit.hit(g))},this),this._preventHit=!1}},reset:function(){_.each(this.followers,function(a){a.flotr.hit.clearHit()},this)}};Humble.Vis.Action.Hit=a}(),Humble.Vis.flotr={},Humble.Vis.flotr.defaultOptions={grid:{outlineWidth:0,labelMargin:0,horizontalLines:!1,verticalLines:!1},bars:{show:!1,barWidth:.5,fill:!0,lineWidth:2,fillOpacity:1},lines:{lineWidth:1},xaxis:{margin:!1,tickDecimals:0,showLabels:!1},yaxis:{margin:!1,showLabels:!1},shadowSize:!1},function(){function f(a){this.options=a||{},this.container=bonzo.create(d)[0],this.node=bonzo.create(c),a.name&&bonzo(this.node).addClass(a.name),bonzo(this.node).append(this.container),this.flotr=null,this._flotrDefaultOptions()}var a=Humble.Vis,b="humble-vis-child",c='<div class="'+b+'"></div>',d='<div class="'+b+'-container"></div>',e=Humble.Vis.flotr.defaultOptions;f.prototype={getFlotr:function(){return this.flotr},getData:function(){return this.options.data},render:function(a){var b=this.options;if(!a)throw"No element to render within.";if(!b.width)throw"No width.";if(!b.height)throw"No height.";bonzo(a).append(this.node),bonzo(this.container).css({width:b.width,height:b.height}),this.draw(b.data,b.flotr)},draw:function(a,b){var c=this.options,b=_.clone(b),a=a||c.data,d=[],e=this.container;b&&(_.extend(c.flotr,b),this._flotrDefaultOptions(b)),b=c.flotr,c.data=a,min=b.xaxis.min,max=b.xaxis.max,a=this._getDataArray(a),c.skipPreprocess?d=a:_.each(a,function(a,b){!_.isArray(a)&&!_.isFunction(a)?(d[b]=_.clone(a),d[b]=this._processData(a.data)):d[b]=this._processData(a)},this);if(!b)throw"No graph submitted.";this.flotr=Flotr.draw(e,d,b)},getNode:function(){return this.node},_processData:function(b){var c=this.options,d=c.processData,e=c.width,f=c.flotr.xaxis,g=f.min,h=f.max,i=new a.Data(b);if(_.isFunction(b))return b(g,h,e);d?d.apply(this,[{datum:i,min:g,max:h,resolution:e}]):i.bound(g,h).subsampleMinMax(e);return i.data},_getDataArray:function(a){return a[0]&&(!_.isArray(a[0])||a[0][0]&&_.isArray(a[0][0]))?a:[a]},_flotrDefaultOptions:function(a){var b=a||this.options.flotr,c;for(c in e)_.isUndefined(b[c])?b[c]=e[c]:_.defaults(b[c],e[c])}},Humble.Vis.Child=f}();
(function (global, name, module) { module.apply(global, [name]); })(
this,               // Global
'TenThousandHours', // Name
function (name) {   // Module

// Namespacing
var
  H = Humble.Vis,
  E = Flotr.EventAdapter,
  ten = this[name] || {};

this[name] = ten;


// Vis declaration
function Vis (container, data) {
  this.container = container;
  this.data = data;
  setConfig.apply(this);
  this.draw();
}
ten.Vis = Vis;


// Configuration
ten.Vis.config = {

  summary : {
    name    : 'cumulative',
    height  : 240,
    width   : 600,
    flotr   : {
      lines : {
        fill : true,
        fillOpacity : .2
      },
      yaxis : { 
        noTicks : 3,
        showLabels : true,
        min : 0,
        max : 60 * 10000
      },
      xaxis : {
        max : 10000,
        min: 0,
        showLabels : true,
        tickFormatter : function (n) { 
          if (n == 0) return '';
          var tickDate = (new Date(Date.parse(this.dates[1]) + n * 1000 * 60 * 60 * 24)); // Double check this index please
          return tickDate.getMonth()+'/'+tickDate.getDate()+'/'+tickDate.getFullYear();
        }
      }
    }
  },

  entries : {
    name    : 'practice',
    height  : 80,
    width   : 600,
    skipPreprocess : true,
    flotr   : {
      title : 'Daily Time by Category:',
      bars : { show : true, stacked : true },
      mouse: {
        track: true,
        trackY: false,
        position: 'ne',
        trackDecimals: 0
      },
      legend : {
        position : 'ne',
        show : true
      }
    }
  },

  totals : {
    name    : 'summary',
    height  : 80,
    width   : 600,
    flotr   : {
      lines : {
        fill : true,
        fillOpacity : .2
      },
      mouse : {
        track: true,
        trackY: false,
        sensibility: 1,
        trackDecimals: 4,
        trackFormatter: function (o) {
          var
            x = Math.floor(o.x),
            text = this.descriptions[x],
            t = 0,
            value,
            i;

          if (!text) {
              for (i = 0; i < this.entries.length; i++) {
                value = _.find(this.entries[i].data, function (d) {
                  return d[0] == x;
                });
                if (value) t += value[1];
              }
              t = Math.round(t * 100 / 60) / 100;
              text = t + ' hours';
          }
          
          text = this.dates[x] + ': ' + text;

          return (text);
        },
        position: 'ne'
      },
      xaxis : {
        noTicks: 5,
        showLabels : true
      },
      handles   : { show : true },
      selection : { mode : 'x'},
      grid : {
        verticalLines : false
      }
    }
  }
};

Vis.prototype = {
  draw : function () {
    var
      config    = this.config,
      vis       = new H.Visualization();
      summary   = new H.Child(config.summary);
      entries   = new H.Child(config.entries);
      totals    = new H.Child(config.totals);
      selection = new H.Interaction({leader : totals});
      hit       = new H.Interaction();

    vis.add(summary);
    vis.add(entries);
    vis.add(totals);
    vis.render(this.container);

    selection.add(H.Action.Selection);
    selection.follow(entries);

    hit.add(H.Action.Hit);
    hit.group([entries, totals]);
  }
};

function setConfig () {
  var
    data    = this.data,
    config  = Vis.config,
    summary = Flotr.clone(config.summary),
    entries = Flotr.clone(config.entries),
    totals  = Flotr.clone(config.totals);

  summary.data  = data.totals;
  entries.data  = data.entries;
  totals.data   = data.totals;

  this.config = {
    summary : summary,
    entries : entries,
    totals : totals
  };

  bindFormattersToData(this.config, data);
  configureStart(this.config, data);
}

function bindFormattersToData (config, data) {
  config.totals.flotr.mouse.trackFormatter = _.bind(
    config.totals.flotr.mouse.trackFormatter,
    data
  );
  config.summary.flotr.xaxis.tickFormatter = _.bind(
    config.summary.flotr.xaxis.tickFormatter,
    data
  );
}

function configureStart (config, data) {
  var
    start = data.start || 0,
    total = data.total || 60 * 10000, // ten thousand hours
    xmax  = total - start,
    ymax  = total - start,
    flotr = config.summary.flotr;

  flotr.yaxis.ticks = [
      [0, '<div class="start">'+start+'h</div>'],
      [ymax - 4000 * 60, '<div class="end">6000h</div>'],
      [ymax - 2000 * 60, '<div class="end">8000h</div>'],
      [ymax, '<div class="end">10000h</div>']
  ];
  flotr.yaxis.max = ymax;
  flotr.xaxis.max = xmax / 60;
  console.log(flotr.yaxis.max, flotr.xaxis.max)
}

});
